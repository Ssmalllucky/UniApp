(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pay-orderDetailsr~pagesB-integral-integral_order~pagesB-seckill-seckillDetailsr"],{"00e6":function(e,a,t){"use strict";t.r(a);var i=t("fa0b"),o=t.n(i);for(var n in i)"default"!==n&&function(e){t.d(a,e,(function(){return i[e]}))}(n);a["default"]=o.a},"28ec":function(e,a,t){"use strict";(function(e){t("c975"),t("13d5"),t("4d63"),t("ac1f"),t("25f0"),t("466d"),t("5319"),t("1276"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,o=/^<\/([-A-Za-z0-9_]+)[^>]*>/,n=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,r=f("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),d=f("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),u=f("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),s=f("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),l=f("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),c=f("script,style");function p(e,a){var t,p,f,y=[],_=e;y.last=function(){return this[this.length-1]};while(e){if(p=!0,y.last()&&c[y.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+y.last()+"[^>]*>"),(function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),a.chars&&a.chars(t),""})),v("",y.last());else if(0==e.indexOf("\x3c!--")?(t=e.indexOf("--\x3e"),t>=0&&(a.comment&&a.comment(e.substring(4,t)),e=e.substring(t+3),p=!1)):0==e.indexOf("</")?(f=e.match(o),f&&(e=e.substring(f[0].length),f[0].replace(o,v),p=!1)):0==e.indexOf("<")&&(f=e.match(i),f&&(e=e.substring(f[0].length),f[0].replace(i,g),p=!1)),p){t=e.indexOf("<");var m=t<0?e:e.substring(0,t);e=t<0?"":e.substring(t),a.chars&&a.chars(m)}if(e==_)throw"Parse Error: "+e;_=e}function g(e,t,i,o){if(t=t.toLowerCase(),d[t])while(y.last()&&u[y.last()])v("",y.last());if(s[t]&&y.last()==t&&v("",t),o=r[t]||!!o,o||y.push(t),a.start){var c=[];i.replace(n,(function(e,a){var t=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[a]?a:"";c.push({name:a,value:t,escaped:t.replace(/(^|[^\\])"/g,'$1\\"')})})),a.start&&a.start(t,c,o)}}function v(e,t){if(t){for(i=y.length-1;i>=0;i--)if(y[i]==t)break}else var i=0;if(i>=0){for(var o=y.length-1;o>=i;o--)a.end&&a.end(y[o]);y.length=i}}v()}function f(e){for(var a={},t=e.split(","),i=0;i<t.length;i++)a[t[i]]=!0;return a}function y(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}function _(e){return e.reduce((function(e,a){var t=a.value,i=a.name;return e[i]?e[i]=e[i]+" "+t:e[i]=t,e}),{})}function m(a){a=y(a);var t=[],i={node:"root",children:[]};return p(a,{start:function(e,a,o){var n={name:e};if(0!==a.length&&(n.attrs=_(a)),o){var r=t[0]||i;r.children||(r.children=[]),r.children.push(n)}else t.unshift(n)},end:function(a){var o=t.shift();if(o.name!==a&&e.error("invalid state: mismatch end tag"),0===t.length)i.children.push(o);else{var n=t[0];n.children||(n.children=[]),n.children.push(o)}},chars:function(e){var a={type:"text",text:e};if(0===t.length)i.children.push(a);else{var o=t[0];o.children||(o.children=[]),o.children.push(a)}},comment:function(e){var a={node:"comment",text:e},i=t[0];i.children||(i.children=[]),i.children.push(a)}}),i.children}var g=m;a.default=g}).call(this,t("5a52")["default"])},4481:function(e,a,t){"use strict";var i,o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{width:"100%","max-width":"100%"}},[t("v-uni-rich-text",{staticStyle:{"font-size":"14px",width:"100%","max-width":"100%"},attrs:{nodes:e.nodes}})],1)},n=[];t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return n})),t.d(a,"a",(function(){return i}))},"53a0":function(e,a,t){"use strict";t.r(a);var i=t("4481"),o=t("654b");for(var n in o)"default"!==n&&function(e){t.d(a,e,(function(){return o[e]}))}(n);var r,d=t("f0c5"),u=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);a["default"]=u.exports},"54f8":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return o}));t("a4d3"),t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");var i=t("dde1");function o(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(i["a"])(e))){var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n,r=!0,d=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){d=!0,n=e},f:function(){try{r||null==o["return"]||o["return"]()}finally{if(d)throw n}}}}},"654b":function(e,a,t){"use strict";t.r(a);var i=t("e4e9"),o=t.n(i);for(var n in i)"default"!==n&&function(e){t.d(a,e,(function(){return i[e]}))}(n);a["default"]=o.a},"84f1":function(e,a,t){"use strict";var i,o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.show?t("v-uni-view",{staticClass:"payModel"},[t("v-uni-view",{staticClass:"payModel-msg",on:{touchmove:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=e.$handleEvent(a)},click:function(a){arguments[0]=a=e.$handleEvent(a),e.cancel.apply(void 0,arguments)}}}),t("v-uni-view",{staticClass:"payModel-card",on:{touchmove:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=e.$handleEvent(a)}}},[t("v-uni-view",{staticClass:"payModel-card-head"},[t("v-uni-text",[e._v("输入支付密码")]),t("v-uni-image",{attrs:{src:e.qiandaoguanbiimg},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.cancel.apply(void 0,arguments)}}})],1),t("v-uni-view",{staticClass:"payModel-card-body"},[t("v-uni-view",{}),t("v-uni-view",{staticClass:"code"},[e._l(e.password,(function(a,i){return[t("v-uni-view",{key:i,staticClass:"code-item"},[e._v(e._s(a.text))])]}))],2),t("v-uni-view",{staticClass:"forget"},[t("v-uni-text",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.forgetPW.apply(void 0,arguments)}}},[e._v("忘记密码")])],1)],1),t("v-uni-view",{staticClass:"payModel-card-keyboard"},[t("v-uni-view",{staticClass:"keyboard"},[e._l(e.numlist,(function(a,i){return[t("v-uni-view",a>0?{key:i,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.enterPassword(a)}}}:{key:i,staticClass:"box0",class:{box1:""===a},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.enterPassword(a)}}},[e._v(e._s(a))])]})),t("v-uni-view",{staticStyle:{background:"#EAE9E8"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.deletePassword.apply(void 0,arguments)}}},[e._v("删除")])],2)],1)],1)],1):e._e()},n=[];t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return n})),t.d(a,"a",(function(){return i}))},af28:function(e,a,t){"use strict";t.r(a);var i=t("84f1"),o=t("00e6");for(var n in o)"default"!==n&&function(e){t.d(a,e,(function(){return o[e]}))}(n);t("f25e");var r,d=t("f0c5"),u=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"8655c3ee",null,!1,i["a"],r);a["default"]=u.exports},b9ce:function(e,a,t){var i=t("24fb");a=i(!1),a.push([e.i,'@charset "UTF-8";\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.payModel[data-v-8655c3ee]{position:fixed;top:0;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;min-height:100vh;z-index:9999}.payModel-msg[data-v-8655c3ee]{width:100%;min-height:100vh;z-index:100001;background-color:rgba(0,0,0,.5);position:absolute}.payModel-card[data-v-8655c3ee]{width:100%;height:%?745?%;background:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;z-index:100002}.payModel-card-head[data-v-8655c3ee]{height:%?86?%;border-bottom:%?2?% solid #ddd;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?0?% %?30?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;color:#020202;font-size:%?34?%;font-weight:700}.payModel-card-head uni-image[data-v-8655c3ee]{width:%?30?%;height:%?30?%;margin-right:%?20?%}.payModel-card-head uni-text[data-v-8655c3ee]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.payModel-card-body[data-v-8655c3ee]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.payModel-card-body .code[data-v-8655c3ee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-top:%?60?%}.payModel-card-body .code-item[data-v-8655c3ee]{width:%?80?%;height:%?80?%;border:%?2?% solid #ddd;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.payModel-card-body .forget[data-v-8655c3ee]{text-align:end;margin:%?0?% %?30?%;margin-top:%?20?%;color:#0080ff}.payModel-card-keyboard[data-v-8655c3ee]{height:%?360?%}.payModel-card-keyboard .keyboard[data-v-8655c3ee]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?360?%;-webkit-flex-flow:wrap;flex-flow:wrap;background:#eae9e8}.payModel-card-keyboard .keyboard uni-view[data-v-8655c3ee]{background:#fff;font-size:%?40?%;font-weight:700;color:#020202;border:%?2?% solid #ddd;margin-left:-1px;margin-top:-1px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?86?%;width:%?248?%}.payModel-card-keyboard .box0[data-v-8655c3ee]{grid-column-start:2}.box1[data-v-8655c3ee]{background:#eae9e8!important}',""]),e.exports=a},d9a3:function(e,a,t){"use strict";(function(e){function i(a){var t=a;if("jp"==t.pay_name){var i=parseFloat(t.jp_zong-t.value).toFixed(2);e.log("me.needpay=================5"),e.log(t.needpay),i>0?(t.needpay=i,e.log("me.needpay=================6"),e.log(t.needpay)):(t.needpay=0,e.log("me.needpay=================7"),e.log(t.needpay))}else if(t.bargain){var o=parseFloat(t.products_total+t.freight-t.value).toFixed(2);o>0?(t.needpay=o,e.log("me.needpay=================8"),e.log(t.needpay)):(t.needpay=0,e.log("me.needpay=================9"),e.log(t.needpay))}else{e.log(t.coupon_name);var n=parseFloat((t.products_total-t.coupon_name-t.reduce_money)*t.discount*t.grade_rate+t.freight-t.value).toFixed(2);n>0?(t.needpay=n,e.log("me.needpay=================10"),e.log(t.needpay)):(t.needpay=0,e.log("me.needpay=================11"),e.log(t.needpay))}}function o(a){var t=a;if(t.useWallte)t.wxPayStatue?t.pay_wx():(uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),t.firstFlag=!0);else if(t.wxPayStatue||t.aliPayStatue||t.baidupayStatue){if(e.log("jcex3==============="),"jp"==t.pay_name){var i={module:"app",action:"order",app:"payment",access_id:t.access_id,address_id:t.address_id,type:"JP",auction_id:t.bind_id,coupon_id:t.coupon_id};t.cpId&&(i.product=t.cpId,i.cart_id="")}else if("MS"==t.otype){var o=JSON.parse(t.cpId)[3];i={module:"app",action:"order",app:"payment",type:"MS",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,coupon_id:t.coupon_id,activity_id:t.activity_id,time_id:t.time_id,sec_id:o.sec_id};t.cpId&&(i.product=t.cpId,i.cart_id="")}else if(t.bargain){i={module:"app",action:"order",app:"payment",type:"KJ",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,bargain_id:t.bargain_id,bargain_order_no:t.order_no};t.cpId&&(i.product=t.cpId,i.cart_id="")}else{i={module:"app",action:"order",app:"payment",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,coupon_id:t.coupon_id};t.cpId&&(i.product=t.cpId,i.cart_id="")}t.wxPayStatue?(i.pay_type="jsapi_wechat",i.store_type=2):t.aliPayStatue||t.baidupayStatue,t.afhalen_translateX>5&&(""==t.shop_address_id?(uni.showToast({title:"请选择门店！",duration:1e3,icon:"none"}),t.firstFlag=!0):i.shop_address_id=t.shop_address_id),uni.request({data:i,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(a){e.log(a);var i=a.data,o=i.status,n=i.data;t.order_list=JSON.stringify(n),0!=o?1==o&&(t.sNo=a.data.data.sNo,t.price1=a.data.data.total,t.order_id=a.data.data.order_id,t.wxPayStatue?t.pay_wx("wx"):t.aliPayStatue?t.pay_wx("ali"):t.baidupayStatue&&t.pay_wx("baidu_pay")):uni.showToast({title:a.data.err,duration:1500,icon:"none"})},error:function(e){uni.hideLoading(),t.firstFlag=!0,uni.showToast({title:"创建订单失败,请稍后再试!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)}})}else uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),t.firstFlag=!0}function n(a,t){e.log("======laikeChooseWay======"),uni.getProvider({service:"payment",success:function(a){e.log(a)}});var i=a;if("wxPay"==t)i.wxPayStatue?i.wxPayStatue=!1:(i.useWallte=!1,i.wxPayStatue=!0,i.aliPayStatue=!1,i.baidupayStatue=!1,i.value2=i.value,i.value="");else if("aliPay"==t)i.aliPayStatue?i.aliPayStatue=!1:(i.useWallte=!1,i.wxPayStatue=!1,i.aliPayStatue=!0,i.baidupayStatue=!1,i.value2=i.value,i.value="");else if("baidu"==t)i.baidupayStatue?i.baidupayStatue=!1:(i.useWallte=!1,i.wxPayStatue=!1,i.aliPayStatue=!1,i.baidupayStatue=!0,i.value2=i.value,i.value="");else if("balance"==t)if(i.useWallte)i.useWallte=!1;else if(i.useWallte=!0,i.wxPayStatue=!1,i.aliPayStatue=!1,i.baidupayStatue=!1,i.total>=Number(i.user_money))i.value=i.user_money,e.log("me.value=================1"),e.log(i.value),i.needpay=parseFloat(i.total-Number(i.user_money)).toFixed(2),e.log("me.needpay=================12"),e.log(i.needpay);else if(i.bargain)i.value=Number(i.products_total)+Number(i.freight),e.log("me.value=================2"),e.log(i.value),i.needpay=0,e.log("me.needpay=================13"),e.log(i.needpay);else{i.value=parseFloat((i.products_total-i.coupon_name-i.reduce_money)*i.discount*i.grade_rate+i.freight).toFixed(2),e.log("me.value=================3"),e.log(i.value);var o=(i.products_total-i.coupon_name-i.reduce_money)*i.discount*i.grade_rate+i.freight;i.total=o,i.needpay=0,e.log("me.needpay=================14"),e.log(i.needpay),""===i.value&&(i.value=i.value2),o-i.value>0&&(i.needpay=o-i.value,e.log("me.needpay=================15"),e.log(i.needpay))}}function r(a,t){var i=t;if(!(Number(i.user_money)<=0))if(i.useWallte=!i.useWallte,i.useWallte)if(i.wxPayStatue=!1,i.aliPayStatue=!1,i.baidupayStatue=!1,i.total>=Number(i.user_money))i.value=i.user_money,e.log("me.value=================1"),e.log(i.value),i.needpay=parseFloat(i.total-Number(i.user_money)).toFixed(2),e.log("me.needpay=================12"),e.log(i.needpay);else if(i.bargain)i.value=Number(i.products_total)+Number(i.freight),e.log("me.value=================2"),e.log(i.value),i.needpay=0,e.log("me.needpay=================13"),e.log(i.needpay);else{i.value=parseFloat((i.products_total-i.coupon_name-i.reduce_money)*i.discount*i.grade_rate+i.freight).toFixed(2),e.log("me.value=================3"),e.log(i.value);var o=(i.products_total-i.coupon_name-i.reduce_money)*i.discount*i.grade_rate+i.freight;i.total=o,i.needpay=0,e.log("me.needpay=================14"),e.log(i.needpay),""===i.value&&(i.value=i.value2),o-i.value>0&&(i.needpay=o-i.value,e.log("me.needpay=================15"),e.log(i.needpay))}else i.wxPayStatue=!1,i.aliPayStatue=!1,i.baidupayStatue=!1,i.value2=i.value,i.value="",i.needpay=""}function d(a,t,i){var o=a;o.$nextTick((function(){o.price1=(o.products_total-o.coupon_name-o.reduce_money)*o.discount*o.grade_rate,e.log("计算price1"+o.products_total+"===="+o.discount+"===="+o.freight+"===="+o.coupon_name+"===="+o.reduce_money),o.price2=o.price1.toFixed(2),e.log(o.price2),o.price2<0?(o.price2=.01+o.freight,o.price2=o.price2.toFixed(2),o.price2=Number(o.price2).toFixed(2)):(o.price2=o.price2+0+o.freight,o.price2=Number(o.price2).toFixed(2));var a=(o.products_total-o.coupon_name-o.reduce_money)*o.discount*o.grade_rate;if(a<=0?(a=.01+o.freight,o.price2=.01+o.freight,o.price2=Number(o.price2).toFixed(2),o.value=.01+o.freight,o.isdx=!0):a=a+0+o.freight,e.log(a>=0),e.log("计算should_pay"+o.products_total+"===="+o.discount+"===="+o.freight+"===="+o.coupon_name+"===="+o.reduce_money),e.log("Number(me.value)"),e.log(Number(o.value)),e.log("should_pay------"+a.toFixed(2)+"---Number(me.value)----"+Number(o.value)),o.price2=a.toFixed(2),Number(o.value)>o.user_money&&(o.value=o.user_money),Number(o.value)>a.toFixed(2)?(e.log("me.value=================999"),a<=o.user_money?(o.value=a.toFixed(2),e.log(a),e.log("me.value=================4"),e.log(o.value)):(o.value=o.user_money,e.log("me.value=================6"),e.log(o.value)),Number(o.value).toFixed(2)>a.toFixed(2)&&a.toFixed(2)>0&&(e.log("===========是否超过最大金额"),e.log(Number(o.value)),e.log(a),uni.showToast({title:"已超过最大金额",icon:"none",duration:1500}))):Number(o.value)<a&&Number(o.value)>o.user_money&&(o.value=o.user_money,e.log("me.value=================7"),e.log(o.value),uni.showToast({title:"已超过最大金额",icon:"none",duration:1500})),o.price2<.0099999999&&e.log("me.value=================888"),0==Math.abs(t-i)){e.log("me.value=================777");var n=String(t).indexOf(".")+1,r=String(t).length-n;r>2&&0!=n&&(o.value=Number(t).toFixed(2),e.log("me.value=================8"),e.log(o.value))}else Math.abs(t-i)<.009999999999&&(o.value=Number(o.value).toFixed(2),e.log("me.value=================9"),e.log(o.value))}))}function u(a){var t=a;if(t.sNo&&t.useWallte)t.pay_display=!0;else{if(!t.can_pay)return!1;if(e.log("click"),t.can_pay=!1,setTimeout((function(){t.can_pay=!0}),1500),t._gotPayType(),t.firstFlag)if(t.firstFlag=!1,t.value||(t.value=0),t.bargain||t.seckill?t.price1=t.products_total+t.freight-Number(t.value):t.price1=t.products_total+t.freight-t.coupon_name-Number(t.reduce_money)-Number(t.value),t.price1=t.price1.toFixed(2),t.afhalen_translateX>5)if(t.shop_address_id)if(t.useWallte)if(0==t.password_status)uni.showModal({title:"提示",content:"请先设置支付密码",showCancel:!0,success:function(e){t.firstFlag=!0,e.confirm&&uni.navigateTo({url:"../../pagesB/setUp/payment"})}});else{var i=(Number(t.products_total)-Number(t.coupon_name)-Number(t.reduce_money))*Number(t.discount)*Number(t.grade_rate)+Number(t.freight);if((0!=Number(t.needpay)||Number(i).toFixed(2)>Number(t.value).toFixed(2))&&!(t.wxPayStatue||t.aliPayStatue||t.baidupayStatue))return uni.showToast({title:"金额不足以支付商品价格!",icon:"none",duration:1500}),!1;if("jp"==t.pay_name)var o={module:"app",action:"order",app:"payment",access_id:t.access_id,address_id:t.address_id,type:"JP",auction_id:t.bind_id,coupon_id:t.coupon_id,remarks:t.remarks};else if(t.bargain){e.log("me.bargain");o={module:"app",action:"order",app:"payment",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,type:"KJ",coupon_id:t.coupon_id,bargain_id:t.bargain_id,bargain_order_no:t.order_no,remarks:t.remarks}}else if(t.seckill){e.log("me.seckill");var n=JSON.parse(t.cpId)[3];o={module:"app",action:"order",app:"payment",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,type:"MS",coupon_id:t.coupon_id,bargain_id:"",bargain_order_no:"",remarks:t.remarks,activity_id:t.activity_id,time_id:t.time_id,platform_activities_id:t.platform_activities_id,sec_id:n.sec_id};e.log("1me.activity_id:"+t.activity_id),e.log("1me.time_id:"+t.time_id)}else o={module:"app",action:"order",app:"payment",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,coupon_id:t.coupon_id,bargain_id:t.bargain_id,bargain_order_no:t.order_no,remarks:t.remarks,shop_address_id:t.shop_address_id};if(t.cpId&&(o.product=t.cpId,o.cart_id=""),t.wxPayStatue?(o.pay_type="jsapi_wechat",o.store_type=2):t.aliPayStatue?o.pay_type="aliPay":t.baidupayStatue&&(o.pay_type="baidu_pay"),uni.request({data:o,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){if(404!=e.data.code){var a=e.data,i=a.status,o=a.data;1==i?(t.makeOrd=!0,t.sNo=e.data.data.sNo,t.order_list=JSON.stringify(o)):(t.firstFlag=!0,uni.hideLoading(),uni.showToast({title:"创建订单失败,请稍后再试!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({url:"../good/goodsDetailed"})}),1500))}else uni.hideLoading()}}),t.price1>0){e.log("立即支付6");var r=(Number(t.products_total)-Number(t.coupon_name)-Number(t.reduce_money))*Number(t.discount)*Number(t.grade_rate)+Number(t.freight);if(r=r.toFixed(2),0!=Number(t.needpay)||r>t.value){if(!(t.wxPayStatue||t.aliPayStatue||t.baidupayStatue))return t.firstFlag=!0,uni.showToast({title:"金额不足以支付商品价格!2",icon:"none",duration:1500}),!1;t.pay_display=!0,e.log("立即支付7")}else e.log("立即支付8"),t.pay_display=!0}else t.pay_display=!0}else uni.showLoading({title:"正在请求支付...",mask:!0}),t.payThree();else uni.showToast({title:"请选择门店！",duration:1e3,icon:"none"});else if(t.adds_f)if(t.useWallte)if(e.log("立即支付5"),0==t.password_status)uni.showModal({title:"提示",content:"请先设置支付密码",showCancel:!0,success:function(e){t.firstFlag=!0,e.confirm&&uni.navigateTo({url:"../../pagesB/setUp/payment"})}});else{var d=(Number(t.products_total)-Number(t.coupon_name)-Number(t.reduce_money))*Number(t.discount)*Number(t.grade_rate)+Number(t.freight);if(e.log("isdx:"+t.isdx),t.isdx&&t.user_money>.01&&(t.needpay=0),e.log(d),e.log(t.needpay),e.log(Number(d).toFixed(2)>Number(t.value).toFixed(2)),(0!=Number(t.needpay)||Number(d).toFixed(2)>Number(t.value).toFixed(2))&&!(t.wxPayStatue||t.aliPayStatue||t.baidupayStatue))return uni.showToast({title:"金额不足以支付商品价格!3",icon:"none",duration:1500}),!1;if(e.log("jcex2============"),"jp"==t.pay_name)o={module:"app",action:"order",app:"payment",access_id:t.access_id,address_id:t.address_id,type:"JP",auction_id:t.bind_id,coupon_id:t.coupon_id,remarks:t.remarks};else if(t.bargain)o={module:"app",action:"order",app:"payment",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,type:"KJ",coupon_id:t.coupon_id,bargain_id:t.bargain_id,bargain_order_no:t.order_no,remarks:t.remarks};else if(t.seckill){e.log("me.seckill");var u=JSON.parse(t.cpId)[3];o={module:"app",action:"order",app:"payment",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,type:"MS",coupon_id:t.coupon_id,bargain_id:"",bargain_order_no:"",remarks:t.remarks,activity_id:t.activity_id,time_id:t.time_id,platform_activities_id:t.platform_activities_id,sec_id:u.sec_id}}else o={module:"app",action:"order",app:"payment",cart_id:t.cart_id,access_id:t.access_id,address_id:t.address_id,coupon_id:t.coupon_id,bargain_id:t.bargain_id,bargain_order_no:t.order_no,remarks:t.remarks,shop_address_id:t.shop_address_id};if(t.cpId&&(o.product=t.cpId,o.cart_id=""),t.wxPayStatue?(o.pay_type="jsapi_wechat",o.store_type=2):t.aliPayStatue?o.pay_type="aliPay":t.baidupayStatue&&(o.pay_type="baidu_pay"),uni.request({data:o,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){if(404!=e.data.code){var a=e.data,i=a.status,o=a.data;if(1==i)t.makeOrd=!0,t.sNo=e.data.data.sNo,t.order_list=JSON.stringify(o);else{if(""!=e.data.redis_name&&t.seckill)return uni.showToast({title:"手速慢了哦，已经就被抢完了!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({delta:2})}),1500),!1;t.firstFlag=!0,uni.hideLoading(),uni.showToast({title:"创建订单失败,请稍后再试!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({url:"../good/goodsDetailed"})}),1500)}}else uni.hideLoading()}}),t.price1>0){e.log("立即支付6");var s=(Number(t.products_total)-Number(t.coupon_name)-Number(t.reduce_money))*Number(t.discount)*Number(t.grade_rate)+Number(t.freight);if(s=s.toFixed(2),0!=Number(t.needpay)||s>t.value){if(!(t.wxPayStatue||t.aliPayStatue||t.baidupayStatue))return t.firstFlag=!0,uni.showToast({title:"金额不足以支付商品价格!4",icon:"none",duration:1500}),!1;t.pay_display=!0,e.log("立即支付7")}else e.log("立即支付8"),t.pay_display=!0}else t.pay_display=!0}else uni.showLoading({title:"正在请求支付...",mask:!0}),e.log("me.otype"),e.log(t.otype),t.payThree();else uni.showToast({title:"请完善收货地址！",duration:1e3,icon:"none"})}}function s(a){var t=a;e.log(t.useWallte),e.log(t.wxPayStatue),e.log(t.aliPayStatue),t.useWallte||t.wxPayStatue||t.aliPayStatue||t.baidupayStatue?t.firstFlag=!0:(uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),t.firstFlag=!1)}function l(a){var t=a;t.use_coupon=!0;var i={module:"app",action:"Coupon",app:"my_coupon",access_id:t.access_id,cart_id:t.cart_id,product:t.cpId};uni.request({data:i,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){if(200==e.data.code){var a=e.data.list;t.coupon_list=a}else uni.showToast({title:e.data.message,duration:1500,icon:"none"})},error:function(a){e.log(a)}})}function c(a){var t=a;t.use_coupon=!1;var i={module:"app",action:"Coupon",app:"getvou",access_id:t.access_id,cart_id:t.cart_id,address_id:t.address_id,coupon_id:t.coupon_id,product:t.cpId};t.coupon_id.length>0&&uni.request({data:i,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(a){if(200==a.data.code){a.data.money;t.freightt=parseFloat(a.data.freight).toFixed(2),t.freight=a.data.freight,t.coupon_name1=a.data.coupon_name;var i=Number(t.products_total)+Number(t.freight)-Number(t.coupon_name)-Number(t.reduce_money);t.total=i}else uni.showToast({title:a.data.message,duration:1500,icon:"none"});if(200==a.statusCode){t.coupon_name=a.data.money,t.total=t.products_total+t.freight-t.coupon_name-t.reduce_money;var o=t.products_total-t.coupon_name-t.reduce_money;e.log(t.products_total),e.log(t.freight),e.log(t.coupon_name),e.log(t.reduce_money),t.useWallte?t.total>=Number(t.user_money)?(t.value=t.user_money,e.log("me.value=================10"),e.log(t.value),t.needpay=parseFloat(t.products_total-Number(t.user_money)).toFixed(2),e.log("me.needpay=================1"),e.log(t.needpay)):(t.value=t.total,e.log("me.value=================11"),e.log(t.value),t.needpay=0,e.log("me.needpay=================2"),e.log(t.needpay)):o>0?(t.needpay=parseFloat(t.total).toFixed(2),e.log("me.needpay=================3"),e.log(t.needpay)):o<=0&&t.total>0?(t.needpay=parseFloat(t.total).toFixed(2)+.01,e.log("me.needpay=================33"),e.log(t.needpay)):(t.needpay=.01,e.log("me.needpay=================4"),e.log(t.needpay))}}})}function p(e,a,t,i){var o=e;if(1==i){o.coupon_list.length;o.coupon_id.length>0?o.coupon_id=0==t?[0]:t:o.coupon_id=t}else uni.showToast({title:"不能使用该优惠券",icon:"none",duration:1500})}t("c975"),t("a9e3"),t("b6802"),t("acd8"),Object.defineProperty(a,"__esModule",{value:!0}),a.laikeUseyue=i,a.laikePayThree=o,a.laikeChooseWay=n,a.laikeSwitchChange=r,a.laikeChangeValue=d,a.laikePayAtOnce=u,a.laikeGetPayType=s,a.laikeShowCoupon=l,a.laikeCloseCoupon=c,a.laikeChooseCoupon=p}).call(this,t("5a52")["default"])},e4e9:function(e,a,t){"use strict";var i=t("ee27");t("ac1f"),t("5319"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=i(t("28ec")),n={name:"wxParse",props:{content:{type:String,default:""}},computed:{nodes:function(){var e=this.content.replace(/src/g,"style='width:100%!important;height: auto!important;' src").replace(/table/g,'table style="width:100%!important;"');return(0,o.default)(e)}},methods:{}};a.default=n},e83a:function(e,a,t){var i=t("b9ce");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=t("4f06").default;o("c2ee2218",i,!0,{sourceMap:!1,shadowMode:!1})},f25e:function(e,a,t){"use strict";var i=t("e83a"),o=t.n(i);o.a},fa0b:function(e,a,t){"use strict";var i=t("ee27");t("d3b7"),t("25f0"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;for(var o=i(t("54f8")),n=[],r=0;r<6;r++)n.push({text:"",pass:""});var d={props:["value"],data:function(){return{numlist:[1,2,3,4,5,6,7,8,9,"",0],password:n,conu:6,num:0,qiandaoguanbiimg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/guanbi2x.png",show:!1}},watch:{value:function(e){this.show=e},show:function(e){this.$emit("input",e)}},methods:{enterPassword:function(e){if(""!==e&&!(this.num>=this.conu)&&(this.password[this.num].text="●",this.password[this.num].pass=e,this.num++,this.num===this.conu)){var a,t="",i=(0,o.default)(this.password);try{for(i.s();!(a=i.n()).done;){var n=a.value;t+=n.pass.toString()}}catch(r){i.e(r)}finally{i.f()}this.success(t)}},deletePassword:function(){0!=this.num&&(this.password[this.num-1].text="",this.password[this.num-1].pass="",this.num--)},cancel:function(){this.restorePassword(),this.$emit("cancel")},restorePassword:function(){this.show=!this.show;var e,a=(0,o.default)(this.password);try{for(a.s();!(e=a.n()).done;){var t=e.value;t.text="",t.pass=""}}catch(i){a.e(i)}finally{a.f()}this.num=0},success:function(e){this.$emit("success",e),this.restorePassword()},forgetPW:function(){uni.navigateTo({url:"../../pagesB/setUp/paymentPassword"})}}};a.default=d}}]);