(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-setUp-paymentPassword"],{4732:function(t,e,s){"use strict";(function(t){var a=s("ee27");s("d3b7"),s("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(s("8249")),i=a(s("1249")),o=(s("a251"),{data:function(){return{del:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/delete2x.png",load:!1,title:"修改支付密码",oldpassword:"",input_oldpassword:"",newpassword:"",againpassword:"",access_id:"",codeone:"",user_phone:"",count:"",display:!0,rez:"",timer:null,fastTap:!0}},created:function(){var t=this;t.$nextTick((function(){t.$refs.lktAuthorizeComp.handleAfterAuth(t,"../../pages/login/login?landing_code=1",(function(){t.access_id=uni.getStorageSync("access_id")?uni.getStorageSync("access_id"):t.$store.state.access_id,t.user_phone=uni.getStorageSync("user_phone")?uni.getStorageSync("user_phone"):t.$store.state.user_phone,t.load=!0}))}))},components:{Heads:n.default,toload:i.default},watch:{newpassword:function(t,e){this.$nextTick((function(){t.toString().length>6&&(this.newpassword=e)}))},againpassword:function(t,e){this.$nextTick((function(){t.toString().length>6&&(this.againpassword=e)}))}},methods:{changeLoginStatus:function(){var t=this;t.access_id=uni.getStorageSync("access_id")},_time:function(){var t=this,e=60;this.timer||(this.display=!1,this.count=e,this.timer=setInterval((function(){t.count>0&&t.count<=e?t.count--:(t.display=!0,clearInterval(t.timer),t.timer=null)}),1e3))},_verif:function(){var e=this;if(this.fastTap){this.fastTap=!1;var s={module:"app",action:"user",app:"secret_key",phone:this.user_phone,message_type:0,message_type1:5};t.log(s),uni.request({data:s,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(s){e.fastTap=!0;var a=s.data,n=a.code,i=a.message;if(200!=n)uni.showToast({title:i,duration:1e3,icon:"none"});else if(200==n){e._time();var o=300,r=o;t.log(o,r);var c=setInterval((function(){r>0&&r<=o?(r--,t.log(r)):(clearInterval(c),c=null,e.code="")}),1e3)}t.log(s)},error:function(s){t.log(s),e.fastTap=!0}})}},_empty:function(t){0==t?this.input_oldpassword="":1==t?this.newpassword="":2==t&&(this.againpassword="")},_newpassword:function(){var t=/^\d{6}$/;if(""!=this.newpassword){if(this.rez=t.test(this.newpassword),1==this.rez)return;this.newpassword="",uni.showToast({title:"请输入6位数字密码",duration:1e3,icon:"none"})}},_againpassword:function(){if(""!=this.againpassword){if(this.newpassword==this.againpassword)return;uni.showToast({title:"两次密码输入不一致！",duration:1e3,icon:"none"})}},_sub:function(){var e=/^\d{6}$/;""!=this.newpassword&&(this.rez=e.test(this.newpassword));var s=this;if(this.fastTap)if(this.fastTap=!1,""==this.newpassword||""==this.againpassword||6!=this.codeone.length)uni.showToast({title:"请填写正确信息！",duration:1e3,icon:"none",success:function(t){s.fastTap=!0}});else if(this.rez)if(""!=this.againpassword&&this.newpassword!=this.againpassword)uni.showToast({title:"两次密码输入不一致！",duration:1e3,icon:"none",success:function(t){s.fastTap=!0}});else if(6!=this.codeone.length)uni.showToast({title:"请输入正确的验证码！",duration:1e3,icon:"none",success:function(t){s.fastTap=!0}});else if(""!=this.newpassword&&this.newpassword==this.againpassword&&6==this.codeone.length){var a={module:"app",action:"user",app:"modify_payment_password",access_id:this.access_id,x_password:this.newpassword,phoneNum:this.user_phone,keyCode:this.codeone};uni.request({data:a,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){s.fastTap=!0,t.log(e);var a=e.data,n=a.code,i=a.message;200==n?(uni.showToast({title:"修改成功！",duration:1500,icon:"none",success:function(t){s.fastTap=!0}}),setTimeout((function(){uni.navigateBack({url:"../../pagesB/setUp/setUp"})}),1500)):uni.showToast({title:i,duration:1e3,icon:"none"})},error:function(e){t.log(e),s.fastTap=!0}})}else uni.showToast({title:"请填写正确信息！",duration:1e3,icon:"none",success:function(t){s.fastTap=!0}});else uni.showToast({title:"请输入6位数新密码",duration:1e3,icon:"none",success:function(t){s.fastTap=!0}})}}});e.default=o}).call(this,s("5a52")["default"])},4986:function(t,e,s){"use strict";s.r(e);var a=s("e3fc"),n=s("8691");for(var i in n)"default"!==i&&function(t){s.d(e,t,(function(){return n[t]}))}(i);s("cef4");var o,r=s("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"027459c6",null,!1,a["a"],o);e["default"]=c.exports},8691:function(t,e,s){"use strict";s.r(e);var a=s("4732"),n=s.n(a);for(var i in a)"default"!==i&&function(t){s.d(e,t,(function(){return a[t]}))}(i);e["default"]=n.a},ab24:function(t,e,s){var a=s("ec15");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("4f06").default;n("762452af",a,!0,{sourceMap:!1,shadowMode:!1})},cef4:function(t,e,s){"use strict";var a=s("ab24"),n=s.n(a);n.a},e3fc:function(t,e,s){"use strict";var a,n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("lktauthorize",{ref:"lktAuthorizeComp",on:{pChangeLoginStatus:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLoginStatus.apply(void 0,arguments)}}}),s("heads",{attrs:{title:t.title}}),s("toload",{attrs:{load:t.load}},[s("ul",{staticClass:"setup-ul yh-setup-ul"},[s("li",[s("v-uni-input",{attrs:{type:"number",disabled:"true"},model:{value:t.user_phone,callback:function(e){t.user_phone=e},expression:"user_phone"}})],1),s("li",{staticClass:"last"},[s("v-uni-input",{staticClass:"input",class:{marginleft:t.display},attrs:{"placeholder-style":"color: #b8b8b8;",type:"number",placeholder:"请输入手机验证码"},model:{value:t.codeone,callback:function(e){t.codeone=e},expression:"codeone"}}),t.display?s("div",{staticClass:"color yh-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._verif()}}},[t._v("获取验证码")]):t._e(),t.display?t._e():s("div",{staticClass:"active yh-color"},[s("span",{ref:"time",staticClass:"yh-time"},[t._v(t._s(t.count)+"S")]),t._v("后再次获取")])],1),s("li",[s("v-uni-input",{staticClass:"input yh-input",attrs:{"placeholder-style":"color: #b8b8b8;",type:"number",size:"6",placeholder:"请输入6位数的新密码"},model:{value:t.newpassword,callback:function(e){t.newpassword=e},expression:"newpassword"}}),s("img",{directives:[{name:"show",rawName:"v-show",value:t.newpassword.length,expression:"newpassword.length"}],attrs:{src:t.del},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._empty(1)}}})],1),s("li",{staticClass:"set_l"},[s("v-uni-input",{staticClass:"input yh-input",attrs:{"placeholder-style":"color: #b8b8b8;",type:"number",size:"6",placeholder:"请确认新密码"},model:{value:t.againpassword,callback:function(e){t.againpassword=e},expression:"againpassword"}}),s("img",{directives:[{name:"show",rawName:"v-show",value:t.againpassword.length,expression:"againpassword.length"}],attrs:{src:t.del},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._empty(2)}}})],1),s("li",{staticClass:"yh-setupButtomWrap",attrs:{id:"setupButtomWrap"}},[s("div",{staticClass:"setup-buttom yh-setup-buttom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._sub.apply(void 0,arguments)}}},[t._v("确认")])])])])],1)},i=[];s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return i})),s.d(e,"a",(function(){return a}))},ec15:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".last[data-v-027459c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.last i[data-v-027459c6],\r\n.color[data-v-027459c6],\r\n.active[data-v-027459c6]{margin-right:0!important;font-size:%?24?%;cursor:pointer}.setup-ul li img[data-v-027459c6]{width:%?28?%;height:%?28?%}.setup-ul li img[data-v-027459c6]{position:absolute;right:%?12?%;bottom:%?35?%;z-index:99}.setup-ul>li[data-v-027459c6],\r\n.set_l[data-v-027459c6]{padding:%?30?% %?0?%;border-bottom:1px solid #eee;margin-bottom:1px;position:relative}\r\n\r\n/* 优化 */.yh-setup-ul[data-v-027459c6]{position:relative}.yh-color[data-v-027459c6]{font-size:%?28?%}.yh-time[data-v-027459c6]{font-size:%?28?%;margin:0!important}.yh-input[data-v-027459c6]{width:90%}.yh-setupButtomWrap[data-v-027459c6]{margin-top:%?70?%}.yh-setup-buttom[data-v-027459c6]{width:%?690?%;height:%?90?%}",""]),t.exports=e}}]);