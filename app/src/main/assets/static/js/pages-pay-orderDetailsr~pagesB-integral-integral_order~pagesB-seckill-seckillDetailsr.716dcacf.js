(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pay-orderDetailsr~pagesB-integral-integral_order~pagesB-seckill-seckillDetailsr"],{"00e6":function(e,a,t){"use strict";t.r(a);var o=t("fa0b"),n=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(a,e,(function(){return o[e]}))}(i);a["default"]=n.a},"28ec":function(e,a,t){"use strict";t("c975"),t("13d5"),t("4d63"),t("ac1f"),t("25f0"),t("466d"),t("5319"),t("1276"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,n=/^<\/([-A-Za-z0-9_]+)[^>]*>/,i=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,r=f("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),d=f("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),s=f("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),l=f("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),c=f("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),u=f("script,style");function p(e,a){var t,p,f,y=[],m=e;y.last=function(){return this[this.length-1]};while(e){if(p=!0,y.last()&&u[y.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+y.last()+"[^>]*>"),(function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),a.chars&&a.chars(t),""})),v("",y.last());else if(0==e.indexOf("\x3c!--")?(t=e.indexOf("--\x3e"),t>=0&&(a.comment&&a.comment(e.substring(4,t)),e=e.substring(t+3),p=!1)):0==e.indexOf("</")?(f=e.match(n),f&&(e=e.substring(f[0].length),f[0].replace(n,v),p=!1)):0==e.indexOf("<")&&(f=e.match(o),f&&(e=e.substring(f[0].length),f[0].replace(o,g),p=!1)),p){t=e.indexOf("<");var _=t<0?e:e.substring(0,t);e=t<0?"":e.substring(t),a.chars&&a.chars(_)}if(e==m)throw"Parse Error: "+e;m=e}function g(e,t,o,n){if(t=t.toLowerCase(),d[t])while(y.last()&&s[y.last()])v("",y.last());if(l[t]&&y.last()==t&&v("",t),n=r[t]||!!n,n||y.push(t),a.start){var u=[];o.replace(i,(function(e,a){var t=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:c[a]?a:"";u.push({name:a,value:t,escaped:t.replace(/(^|[^\\])"/g,'$1\\"')})})),a.start&&a.start(t,u,n)}}function v(e,t){if(t){for(o=y.length-1;o>=0;o--)if(y[o]==t)break}else var o=0;if(o>=0){for(var n=y.length-1;n>=o;n--)a.end&&a.end(y[n]);y.length=o}}v()}function f(e){for(var a={},t=e.split(","),o=0;o<t.length;o++)a[t[o]]=!0;return a}function y(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}function m(e){return e.reduce((function(e,a){var t=a.value,o=a.name;return e[o]?e[o]=e[o]+" "+t:e[o]=t,e}),{})}function _(e){e=y(e);var a=[],t={node:"root",children:[]};return p(e,{start:function(e,o,n){var i={name:e};if(0!==o.length&&(i.attrs=m(o)),n){var r=a[0]||t;r.children||(r.children=[]),r.children.push(i)}else a.unshift(i)},end:function(e){var o=a.shift();if(o.name!==e&&console.error("invalid state: mismatch end tag"),0===a.length)t.children.push(o);else{var n=a[0];n.children||(n.children=[]),n.children.push(o)}},chars:function(e){var o={type:"text",text:e};if(0===a.length)t.children.push(o);else{var n=a[0];n.children||(n.children=[]),n.children.push(o)}},comment:function(e){var t={node:"comment",text:e},o=a[0];o.children||(o.children=[]),o.children.push(t)}}),t.children}var g=_;a.default=g},4481:function(e,a,t){"use strict";var o,n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{width:"100%","max-width":"100%"}},[t("v-uni-rich-text",{staticStyle:{"font-size":"14px",width:"100%","max-width":"100%"},attrs:{nodes:e.nodes}})],1)},i=[];t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return i})),t.d(a,"a",(function(){return o}))},"53a0":function(e,a,t){"use strict";t.r(a);var o=t("4481"),n=t("654b");for(var i in n)"default"!==i&&function(e){t.d(a,e,(function(){return n[e]}))}(i);var r,d=t("f0c5"),s=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);a["default"]=s.exports},"54f8":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return n}));t("a4d3"),t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");var o=t("dde1");function n(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(o["a"])(e))){var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,r=!0,d=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){d=!0,i=e},f:function(){try{r||null==n["return"]||n["return"]()}finally{if(d)throw i}}}}},"654b":function(e,a,t){"use strict";t.r(a);var o=t("e4e9"),n=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(a,e,(function(){return o[e]}))}(i);a["default"]=n.a},"84f1":function(e,a,t){"use strict";var o,n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.show?t("v-uni-view",{staticClass:"payModel"},[t("v-uni-view",{staticClass:"payModel-msg",on:{touchmove:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=e.$handleEvent(a)},click:function(a){arguments[0]=a=e.$handleEvent(a),e.cancel.apply(void 0,arguments)}}}),t("v-uni-view",{staticClass:"payModel-card",on:{touchmove:function(a){a.stopPropagation(),a.preventDefault(),arguments[0]=a=e.$handleEvent(a)}}},[t("v-uni-view",{staticClass:"payModel-card-head"},[t("v-uni-text",[e._v("输入支付密码")]),t("v-uni-image",{attrs:{src:e.qiandaoguanbiimg},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.cancel.apply(void 0,arguments)}}})],1),t("v-uni-view",{staticClass:"payModel-card-body"},[t("v-uni-view",{}),t("v-uni-view",{staticClass:"code"},[e._l(e.password,(function(a,o){return[t("v-uni-view",{key:o,staticClass:"code-item"},[e._v(e._s(a.text))])]}))],2),t("v-uni-view",{staticClass:"forget"},[t("v-uni-text",{on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.forgetPW.apply(void 0,arguments)}}},[e._v("忘记密码")])],1)],1),t("v-uni-view",{staticClass:"payModel-card-keyboard"},[t("v-uni-view",{staticClass:"keyboard"},[e._l(e.numlist,(function(a,o){return[t("v-uni-view",a>0?{key:o,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.enterPassword(a)}}}:{key:o,staticClass:"box0",class:{box1:""===a},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.enterPassword(a)}}},[e._v(e._s(a))])]})),t("v-uni-view",{staticStyle:{background:"#EAE9E8"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.deletePassword.apply(void 0,arguments)}}},[e._v("删除")])],2)],1)],1)],1):e._e()},i=[];t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return i})),t.d(a,"a",(function(){return o}))},af28:function(e,a,t){"use strict";t.r(a);var o=t("84f1"),n=t("00e6");for(var i in n)"default"!==i&&function(e){t.d(a,e,(function(){return n[e]}))}(i);t("f25e");var r,d=t("f0c5"),s=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"8655c3ee",null,!1,o["a"],r);a["default"]=s.exports},b6802:function(e,a,t){"use strict";function o(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,o=new Array(a);t<a;t++)o[t]=e[t];return o}t.d(a,"a",(function(){return o}))},b9ce:function(e,a,t){var o=t("24fb");a=o(!1),a.push([e.i,'@charset "UTF-8";\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.payModel[data-v-8655c3ee]{position:fixed;top:0;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;min-height:100vh;z-index:9999}.payModel-msg[data-v-8655c3ee]{width:100%;min-height:100vh;z-index:100001;background-color:rgba(0,0,0,.5);position:absolute}.payModel-card[data-v-8655c3ee]{width:100%;height:%?745?%;background:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;z-index:100002}.payModel-card-head[data-v-8655c3ee]{height:%?86?%;border-bottom:%?2?% solid #ddd;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?0?% %?30?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;color:#020202;font-size:%?34?%;font-weight:700}.payModel-card-head uni-image[data-v-8655c3ee]{width:%?30?%;height:%?30?%;margin-right:%?20?%}.payModel-card-head uni-text[data-v-8655c3ee]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.payModel-card-body[data-v-8655c3ee]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.payModel-card-body .code[data-v-8655c3ee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-top:%?60?%}.payModel-card-body .code-item[data-v-8655c3ee]{width:%?80?%;height:%?80?%;border:%?2?% solid #ddd;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.payModel-card-body .forget[data-v-8655c3ee]{text-align:end;margin:%?0?% %?30?%;margin-top:%?20?%;color:#0080ff}.payModel-card-keyboard[data-v-8655c3ee]{height:%?360?%}.payModel-card-keyboard .keyboard[data-v-8655c3ee]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?360?%;-webkit-flex-flow:wrap;flex-flow:wrap;background:#eae9e8}.payModel-card-keyboard .keyboard uni-view[data-v-8655c3ee]{background:#fff;font-size:%?40?%;font-weight:700;color:#020202;border:%?2?% solid #ddd;margin-left:-1px;margin-top:-1px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?86?%;width:%?248?%}.payModel-card-keyboard .box0[data-v-8655c3ee]{grid-column-start:2}.box1[data-v-8655c3ee]{background:#eae9e8!important}',""]),e.exports=a},d9a3:function(e,a,t){"use strict";function o(e){var a=e;if("jp"==a.pay_name){var t=parseFloat(a.jp_zong-a.value).toFixed(2);console.log("me.needpay=================5"),console.log(a.needpay),t>0?(a.needpay=t,console.log("me.needpay=================6"),console.log(a.needpay)):(a.needpay=0,console.log("me.needpay=================7"),console.log(a.needpay))}else if(a.bargain){var o=parseFloat(a.products_total+a.freight-a.value).toFixed(2);o>0?(a.needpay=o,console.log("me.needpay=================8"),console.log(a.needpay)):(a.needpay=0,console.log("me.needpay=================9"),console.log(a.needpay))}else{console.log(a.coupon_name);var n=parseFloat((a.products_total-a.coupon_name-a.reduce_money)*a.discount*a.grade_rate+a.freight-a.value).toFixed(2);n>0?(a.needpay=n,console.log("me.needpay=================10"),console.log(a.needpay)):(a.needpay=0,console.log("me.needpay=================11"),console.log(a.needpay))}}function n(e){var a=e;if(a.useWallte)a.wxPayStatue?a.pay_wx():(uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),a.firstFlag=!0);else if(a.wxPayStatue||a.aliPayStatue||a.baidupayStatue){if(console.log("jcex3==============="),"jp"==a.pay_name){var t={module:"app",action:"order",app:"payment",access_id:a.access_id,address_id:a.address_id,type:"JP",auction_id:a.bind_id,coupon_id:a.coupon_id};a.cpId&&(t.product=a.cpId,t.cart_id="")}else if("MS"==a.otype){var o=JSON.parse(a.cpId)[3];t={module:"app",action:"order",app:"payment",type:"MS",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,coupon_id:a.coupon_id,activity_id:a.activity_id,time_id:a.time_id,sec_id:o.sec_id};a.cpId&&(t.product=a.cpId,t.cart_id="")}else if(a.bargain){t={module:"app",action:"order",app:"payment",type:"KJ",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,bargain_id:a.bargain_id,bargain_order_no:a.order_no};a.cpId&&(t.product=a.cpId,t.cart_id="")}else{t={module:"app",action:"order",app:"payment",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,coupon_id:a.coupon_id};a.cpId&&(t.product=a.cpId,t.cart_id="")}a.wxPayStatue?(t.pay_type="jsapi_wechat",t.store_type=2):a.aliPayStatue||a.baidupayStatue,a.afhalen_translateX>5&&(""==a.shop_address_id?(uni.showToast({title:"请选择门店！",duration:1e3,icon:"none"}),a.firstFlag=!0):t.shop_address_id=a.shop_address_id),uni.request({data:t,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){console.log(e);var t=e.data,o=t.status,n=t.data;a.order_list=JSON.stringify(n),0!=o?1==o&&(a.sNo=e.data.data.sNo,a.price1=e.data.data.total,a.order_id=e.data.data.order_id,a.wxPayStatue?a.pay_wx("wx"):a.aliPayStatue?a.pay_wx("ali"):a.baidupayStatue&&a.pay_wx("baidu_pay")):uni.showToast({title:e.data.err,duration:1500,icon:"none"})},error:function(e){uni.hideLoading(),a.firstFlag=!0,uni.showToast({title:"创建订单失败,请稍后再试!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)}})}else uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),a.firstFlag=!0}function i(e,a){console.log("======laikeChooseWay======"),uni.getProvider({service:"payment",success:function(e){console.log(e)}});var t=e;if("wxPay"==a)t.wxPayStatue?t.wxPayStatue=!1:(t.useWallte=!1,t.wxPayStatue=!0,t.aliPayStatue=!1,t.baidupayStatue=!1,t.value2=t.value,t.value="");else if("aliPay"==a)t.aliPayStatue?t.aliPayStatue=!1:(t.useWallte=!1,t.wxPayStatue=!1,t.aliPayStatue=!0,t.baidupayStatue=!1,t.value2=t.value,t.value="");else if("baidu"==a)t.baidupayStatue?t.baidupayStatue=!1:(t.useWallte=!1,t.wxPayStatue=!1,t.aliPayStatue=!1,t.baidupayStatue=!0,t.value2=t.value,t.value="");else if("balance"==a)if(t.useWallte)t.useWallte=!1;else if(t.useWallte=!0,t.wxPayStatue=!1,t.aliPayStatue=!1,t.baidupayStatue=!1,t.total>=Number(t.user_money))t.value=t.user_money,console.log("me.value=================1"),console.log(t.value),t.needpay=parseFloat(t.total-Number(t.user_money)).toFixed(2),console.log("me.needpay=================12"),console.log(t.needpay);else if(t.bargain)t.value=Number(t.products_total)+Number(t.freight),console.log("me.value=================2"),console.log(t.value),t.needpay=0,console.log("me.needpay=================13"),console.log(t.needpay);else{t.value=parseFloat((t.products_total-t.coupon_name-t.reduce_money)*t.discount*t.grade_rate+t.freight).toFixed(2),console.log("me.value=================3"),console.log(t.value);var o=(t.products_total-t.coupon_name-t.reduce_money)*t.discount*t.grade_rate+t.freight;t.total=o,t.needpay=0,console.log("me.needpay=================14"),console.log(t.needpay),""===t.value&&(t.value=t.value2),o-t.value>0&&(t.needpay=o-t.value,console.log("me.needpay=================15"),console.log(t.needpay))}}function r(e,a){var t=a;if(!(Number(t.user_money)<=0))if(t.useWallte=!t.useWallte,t.useWallte)if(t.wxPayStatue=!1,t.aliPayStatue=!1,t.baidupayStatue=!1,t.total>=Number(t.user_money))t.value=t.user_money,console.log("me.value=================1"),console.log(t.value),t.needpay=parseFloat(t.total-Number(t.user_money)).toFixed(2),console.log("me.needpay=================12"),console.log(t.needpay);else if(t.bargain)t.value=Number(t.products_total)+Number(t.freight),console.log("me.value=================2"),console.log(t.value),t.needpay=0,console.log("me.needpay=================13"),console.log(t.needpay);else{t.value=parseFloat((t.products_total-t.coupon_name-t.reduce_money)*t.discount*t.grade_rate+t.freight).toFixed(2),console.log("me.value=================3"),console.log(t.value);var o=(t.products_total-t.coupon_name-t.reduce_money)*t.discount*t.grade_rate+t.freight;t.total=o,t.needpay=0,console.log("me.needpay=================14"),console.log(t.needpay),""===t.value&&(t.value=t.value2),o-t.value>0&&(t.needpay=o-t.value,console.log("me.needpay=================15"),console.log(t.needpay))}else t.wxPayStatue=!1,t.aliPayStatue=!1,t.baidupayStatue=!1,t.value2=t.value,t.value="",t.needpay=""}function d(e,a,t){var o=e;o.$nextTick((function(){o.price1=(o.products_total-o.coupon_name-o.reduce_money)*o.discount*o.grade_rate,console.log("计算price1"+o.products_total+"===="+o.discount+"===="+o.freight+"===="+o.coupon_name+"===="+o.reduce_money),o.price2=o.price1.toFixed(2),console.log(o.price2),o.price2<0?(o.price2=.01+o.freight,o.price2=o.price2.toFixed(2),o.price2=Number(o.price2).toFixed(2)):(o.price2=o.price2+0+o.freight,o.price2=Number(o.price2).toFixed(2));var e=(o.products_total-o.coupon_name-o.reduce_money)*o.discount*o.grade_rate;if(e<=0?(e=.01+o.freight,o.price2=.01+o.freight,o.price2=Number(o.price2).toFixed(2),o.value=.01+o.freight,o.isdx=!0):e=e+0+o.freight,console.log(e>=0),console.log("计算should_pay"+o.products_total+"===="+o.discount+"===="+o.freight+"===="+o.coupon_name+"===="+o.reduce_money),console.log("Number(me.value)"),console.log(Number(o.value)),console.log("should_pay------"+e.toFixed(2)+"---Number(me.value)----"+Number(o.value)),o.price2=e.toFixed(2),Number(o.value)>o.user_money&&(o.value=o.user_money),Number(o.value)>e.toFixed(2)?(console.log("me.value=================999"),e<=o.user_money?(o.value=e.toFixed(2),console.log(e),console.log("me.value=================4"),console.log(o.value)):(o.value=o.user_money,console.log("me.value=================6"),console.log(o.value)),Number(o.value).toFixed(2)>e.toFixed(2)&&e.toFixed(2)>0&&(console.log("===========是否超过最大金额"),console.log(Number(o.value)),console.log(e),uni.showToast({title:"已超过最大金额",icon:"none",duration:1500}))):Number(o.value)<e&&Number(o.value)>o.user_money&&(o.value=o.user_money,console.log("me.value=================7"),console.log(o.value),uni.showToast({title:"已超过最大金额",icon:"none",duration:1500})),o.price2<.0099999999&&console.log("me.value=================888"),0==Math.abs(a-t)){console.log("me.value=================777");var n=String(a).indexOf(".")+1,i=String(a).length-n;i>2&&0!=n&&(o.value=Number(a).toFixed(2),console.log("me.value=================8"),console.log(o.value))}else Math.abs(a-t)<.009999999999&&(o.value=Number(o.value).toFixed(2),console.log("me.value=================9"),console.log(o.value))}))}function s(e){var a=e;if(a.sNo&&a.useWallte)a.pay_display=!0;else{if(!a.can_pay)return!1;if(console.log("click"),a.can_pay=!1,setTimeout((function(){a.can_pay=!0}),1500),a._gotPayType(),a.firstFlag)if(a.firstFlag=!1,a.value||(a.value=0),a.bargain||a.seckill?a.price1=a.products_total+a.freight-Number(a.value):a.price1=a.products_total+a.freight-a.coupon_name-Number(a.reduce_money)-Number(a.value),a.price1=a.price1.toFixed(2),a.afhalen_translateX>5)if(a.shop_address_id)if(a.useWallte)if(0==a.password_status)uni.showModal({title:"提示",content:"请先设置支付密码",showCancel:!0,success:function(e){a.firstFlag=!0,e.confirm&&uni.navigateTo({url:"../../pagesB/setUp/payment"})}});else{var t=(Number(a.products_total)-Number(a.coupon_name)-Number(a.reduce_money))*Number(a.discount)*Number(a.grade_rate)+Number(a.freight);if((0!=Number(a.needpay)||Number(t).toFixed(2)>Number(a.value).toFixed(2))&&!(a.wxPayStatue||a.aliPayStatue||a.baidupayStatue))return uni.showToast({title:"金额不足以支付商品价格!",icon:"none",duration:1500}),!1;if("jp"==a.pay_name)var o={module:"app",action:"order",app:"payment",access_id:a.access_id,address_id:a.address_id,type:"JP",auction_id:a.bind_id,coupon_id:a.coupon_id,remarks:a.remarks};else if(a.bargain){console.log("me.bargain");o={module:"app",action:"order",app:"payment",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,type:"KJ",coupon_id:a.coupon_id,bargain_id:a.bargain_id,bargain_order_no:a.order_no,remarks:a.remarks}}else if(a.seckill){console.log("me.seckill");var n=JSON.parse(a.cpId)[3];o={module:"app",action:"order",app:"payment",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,type:"MS",coupon_id:a.coupon_id,bargain_id:"",bargain_order_no:"",remarks:a.remarks,activity_id:a.activity_id,time_id:a.time_id,platform_activities_id:a.platform_activities_id,sec_id:n.sec_id};console.log("1me.activity_id:"+a.activity_id),console.log("1me.time_id:"+a.time_id)}else o={module:"app",action:"order",app:"payment",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,coupon_id:a.coupon_id,bargain_id:a.bargain_id,bargain_order_no:a.order_no,remarks:a.remarks,shop_address_id:a.shop_address_id};if(a.cpId&&(o.product=a.cpId,o.cart_id=""),a.wxPayStatue?(o.pay_type="jsapi_wechat",o.store_type=2):a.aliPayStatue?o.pay_type="aliPay":a.baidupayStatue&&(o.pay_type="baidu_pay"),uni.request({data:o,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){if(404!=e.data.code){var t=e.data,o=t.status,n=t.data;1==o?(a.makeOrd=!0,a.sNo=e.data.data.sNo,a.order_list=JSON.stringify(n)):(a.firstFlag=!0,uni.hideLoading(),uni.showToast({title:"创建订单失败,请稍后再试!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({url:"../good/goodsDetailed"})}),1500))}else uni.hideLoading()}}),a.price1>0){console.log("立即支付6");var i=(Number(a.products_total)-Number(a.coupon_name)-Number(a.reduce_money))*Number(a.discount)*Number(a.grade_rate)+Number(a.freight);if(i=i.toFixed(2),0!=Number(a.needpay)||i>a.value){if(!(a.wxPayStatue||a.aliPayStatue||a.baidupayStatue))return a.firstFlag=!0,uni.showToast({title:"金额不足以支付商品价格!2",icon:"none",duration:1500}),!1;a.pay_display=!0,console.log("立即支付7")}else console.log("立即支付8"),a.pay_display=!0}else a.pay_display=!0}else uni.showLoading({title:"正在请求支付...",mask:!0}),a.payThree();else uni.showToast({title:"请选择门店！",duration:1e3,icon:"none"});else if(a.adds_f)if(a.useWallte)if(console.log("立即支付5"),0==a.password_status)uni.showModal({title:"提示",content:"请先设置支付密码",showCancel:!0,success:function(e){a.firstFlag=!0,e.confirm&&uni.navigateTo({url:"../../pagesB/setUp/payment"})}});else{var r=(Number(a.products_total)-Number(a.coupon_name)-Number(a.reduce_money))*Number(a.discount)*Number(a.grade_rate)+Number(a.freight);if(console.log("isdx:"+a.isdx),a.isdx&&a.user_money>.01&&(a.needpay=0),console.log(r),console.log(a.needpay),console.log(Number(r).toFixed(2)>Number(a.value).toFixed(2)),(0!=Number(a.needpay)||Number(r).toFixed(2)>Number(a.value).toFixed(2))&&!(a.wxPayStatue||a.aliPayStatue||a.baidupayStatue))return uni.showToast({title:"金额不足以支付商品价格!3",icon:"none",duration:1500}),!1;if(console.log("jcex2============"),"jp"==a.pay_name)o={module:"app",action:"order",app:"payment",access_id:a.access_id,address_id:a.address_id,type:"JP",auction_id:a.bind_id,coupon_id:a.coupon_id,remarks:a.remarks};else if(a.bargain)o={module:"app",action:"order",app:"payment",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,type:"KJ",coupon_id:a.coupon_id,bargain_id:a.bargain_id,bargain_order_no:a.order_no,remarks:a.remarks};else if(a.seckill){console.log("me.seckill");var d=JSON.parse(a.cpId)[3];o={module:"app",action:"order",app:"payment",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,type:"MS",coupon_id:a.coupon_id,bargain_id:"",bargain_order_no:"",remarks:a.remarks,activity_id:a.activity_id,time_id:a.time_id,platform_activities_id:a.platform_activities_id,sec_id:d.sec_id}}else o={module:"app",action:"order",app:"payment",cart_id:a.cart_id,access_id:a.access_id,address_id:a.address_id,coupon_id:a.coupon_id,bargain_id:a.bargain_id,bargain_order_no:a.order_no,remarks:a.remarks,shop_address_id:a.shop_address_id};if(a.cpId&&(o.product=a.cpId,o.cart_id=""),a.wxPayStatue?(o.pay_type="jsapi_wechat",o.store_type=2):a.aliPayStatue?o.pay_type="aliPay":a.baidupayStatue&&(o.pay_type="baidu_pay"),uni.request({data:o,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){if(404!=e.data.code){var t=e.data,o=t.status,n=t.data;if(1==o)a.makeOrd=!0,a.sNo=e.data.data.sNo,a.order_list=JSON.stringify(n);else{if(""!=e.data.redis_name&&a.seckill)return uni.showToast({title:"手速慢了哦，已经就被抢完了!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({delta:2})}),1500),!1;a.firstFlag=!0,uni.hideLoading(),uni.showToast({title:"创建订单失败,请稍后再试!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({url:"../good/goodsDetailed"})}),1500)}}else uni.hideLoading()}}),a.price1>0){console.log("立即支付6");var s=(Number(a.products_total)-Number(a.coupon_name)-Number(a.reduce_money))*Number(a.discount)*Number(a.grade_rate)+Number(a.freight);if(s=s.toFixed(2),0!=Number(a.needpay)||s>a.value){if(!(a.wxPayStatue||a.aliPayStatue||a.baidupayStatue))return a.firstFlag=!0,uni.showToast({title:"金额不足以支付商品价格!4",icon:"none",duration:1500}),!1;a.pay_display=!0,console.log("立即支付7")}else console.log("立即支付8"),a.pay_display=!0}else a.pay_display=!0}else uni.showLoading({title:"正在请求支付...",mask:!0}),console.log("me.otype"),console.log(a.otype),a.payThree();else uni.showToast({title:"请完善收货地址！",duration:1e3,icon:"none"})}}function l(e){var a=e;console.log(a.useWallte),console.log(a.wxPayStatue),console.log(a.aliPayStatue),a.useWallte||a.wxPayStatue||a.aliPayStatue||a.baidupayStatue?a.firstFlag=!0:(uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),a.firstFlag=!1)}function c(e){var a=e;a.use_coupon=!0;var t={module:"app",action:"Coupon",app:"my_coupon",access_id:a.access_id,cart_id:a.cart_id,product:a.cpId};uni.request({data:t,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){if(200==e.data.code){var t=e.data.list;a.coupon_list=t}else uni.showToast({title:e.data.message,duration:1500,icon:"none"})},error:function(e){console.log(e)}})}function u(e){var a=e;a.use_coupon=!1;var t={module:"app",action:"Coupon",app:"getvou",access_id:a.access_id,cart_id:a.cart_id,address_id:a.address_id,coupon_id:a.coupon_id,product:a.cpId};a.coupon_id.length>0&&uni.request({data:t,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){if(200==e.data.code){e.data.money;a.freightt=parseFloat(e.data.freight).toFixed(2),a.freight=e.data.freight,a.coupon_name1=e.data.coupon_name;var t=Number(a.products_total)+Number(a.freight)-Number(a.coupon_name)-Number(a.reduce_money);a.total=t}else uni.showToast({title:e.data.message,duration:1500,icon:"none"});if(200==e.statusCode){a.coupon_name=e.data.money,a.total=a.products_total+a.freight-a.coupon_name-a.reduce_money;var o=a.products_total-a.coupon_name-a.reduce_money;console.log(a.products_total),console.log(a.freight),console.log(a.coupon_name),console.log(a.reduce_money),a.useWallte?a.total>=Number(a.user_money)?(a.value=a.user_money,console.log("me.value=================10"),console.log(a.value),a.needpay=parseFloat(a.products_total-Number(a.user_money)).toFixed(2),console.log("me.needpay=================1"),console.log(a.needpay)):(a.value=a.total,console.log("me.value=================11"),console.log(a.value),a.needpay=0,console.log("me.needpay=================2"),console.log(a.needpay)):o>0?(a.needpay=parseFloat(a.total).toFixed(2),console.log("me.needpay=================3"),console.log(a.needpay)):o<=0&&a.total>0?(a.needpay=parseFloat(a.total).toFixed(2)+.01,console.log("me.needpay=================33"),console.log(a.needpay)):(a.needpay=.01,console.log("me.needpay=================4"),console.log(a.needpay))}}})}function p(e,a,t,o){var n=e;if(1==o){n.coupon_list.length;n.coupon_id.length>0?n.coupon_id=0==t?[0]:t:n.coupon_id=t}else uni.showToast({title:"不能使用该优惠券",icon:"none",duration:1500})}t("c975"),t("a9e3"),t("b680"),t("acd8"),Object.defineProperty(a,"__esModule",{value:!0}),a.laikeUseyue=o,a.laikePayThree=n,a.laikeChooseWay=i,a.laikeSwitchChange=r,a.laikeChangeValue=d,a.laikePayAtOnce=s,a.laikeGetPayType=l,a.laikeShowCoupon=c,a.laikeCloseCoupon=u,a.laikeChooseCoupon=p},dde1:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));t("a630"),t("fb6a"),t("d3b7"),t("25f0"),t("3ca3");var o=t("b6802");function n(e,a){if(e){if("string"===typeof e)return Object(o["a"])(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(o["a"])(e,a):void 0}}},e4e9:function(e,a,t){"use strict";var o=t("ee27");t("ac1f"),t("5319"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(t("28ec")),i={name:"wxParse",props:{content:{type:String,default:""}},computed:{nodes:function(){var e=this.content.replace(/src/g,"style='width:100%!important;height: auto!important;' src").replace(/table/g,'table style="width:100%!important;"');return(0,n.default)(e)}},methods:{}};a.default=i},e83a:function(e,a,t){var o=t("b9ce");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=t("4f06").default;n("c2ee2218",o,!0,{sourceMap:!1,shadowMode:!1})},f25e:function(e,a,t){"use strict";var o=t("e83a"),n=t.n(o);n.a},fa0b:function(e,a,t){"use strict";var o=t("ee27");t("d3b7"),t("25f0"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;for(var n=o(t("54f8")),i=[],r=0;r<6;r++)i.push({text:"",pass:""});var d={props:["value"],data:function(){return{numlist:[1,2,3,4,5,6,7,8,9,"",0],password:i,conu:6,num:0,qiandaoguanbiimg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/guanbi2x.png",show:!1}},watch:{value:function(e){this.show=e},show:function(e){this.$emit("input",e)}},methods:{enterPassword:function(e){if(""!==e&&!(this.num>=this.conu)&&(this.password[this.num].text="●",this.password[this.num].pass=e,this.num++,this.num===this.conu)){var a,t="",o=(0,n.default)(this.password);try{for(o.s();!(a=o.n()).done;){var i=a.value;t+=i.pass.toString()}}catch(r){o.e(r)}finally{o.f()}this.success(t)}},deletePassword:function(){0!=this.num&&(this.password[this.num-1].text="",this.password[this.num-1].pass="",this.num--)},cancel:function(){this.restorePassword(),this.$emit("cancel")},restorePassword:function(){this.show=!this.show;var e,a=(0,n.default)(this.password);try{for(a.s();!(e=a.n()).done;){var t=e.value;t.text="",t.pass=""}}catch(o){a.e(o)}finally{a.f()}this.num=0},success:function(e){this.$emit("success",e),this.restorePassword()},forgetPW:function(){uni.navigateTo({url:"../../pagesB/setUp/paymentPassword"})}}};a.default=d}}]);