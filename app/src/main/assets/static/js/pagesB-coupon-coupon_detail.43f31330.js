(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-coupon-coupon_detail"],{"28ec":function(t,e,i){"use strict";(function(t){i("c975"),i("13d5"),i("4d63"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,n=/^<\/([-A-Za-z0-9_]+)[^>]*>/,s=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,o=h("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),d=h("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),r=h("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),c=h("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),l=h("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),u=h("script,style");function p(t,e){var i,p,h,f=[],g=t;f.last=function(){return this[this.length-1]};while(t){if(p=!0,f.last()&&u[f.last()])t=t.replace(new RegExp("([\\s\\S]*?)</"+f.last()+"[^>]*>"),(function(t,i){return i=i.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),e.chars&&e.chars(i),""})),y("",f.last());else if(0==t.indexOf("\x3c!--")?(i=t.indexOf("--\x3e"),i>=0&&(e.comment&&e.comment(t.substring(4,i)),t=t.substring(i+3),p=!1)):0==t.indexOf("</")?(h=t.match(n),h&&(t=t.substring(h[0].length),h[0].replace(n,y),p=!1)):0==t.indexOf("<")&&(h=t.match(a),h&&(t=t.substring(h[0].length),h[0].replace(a,m),p=!1)),p){i=t.indexOf("<");var _=i<0?t:t.substring(0,i);t=i<0?"":t.substring(i),e.chars&&e.chars(_)}if(t==g)throw"Parse Error: "+t;g=t}function m(t,i,a,n){if(i=i.toLowerCase(),d[i])while(f.last()&&r[f.last()])y("",f.last());if(c[i]&&f.last()==i&&y("",i),n=o[i]||!!n,n||f.push(i),e.start){var u=[];a.replace(s,(function(t,e){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[e]?e:"";u.push({name:e,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})})),e.start&&e.start(i,u,n)}}function y(t,i){if(i){for(a=f.length-1;a>=0;a--)if(f[a]==i)break}else var a=0;if(a>=0){for(var n=f.length-1;n>=a;n--)e.end&&e.end(f[n]);f.length=a}}y()}function h(t){for(var e={},i=t.split(","),a=0;a<i.length;a++)e[i[a]]=!0;return e}function f(t){return t.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}function g(t){return t.reduce((function(t,e){var i=e.value,a=e.name;return t[a]?t[a]=t[a]+" "+i:t[a]=i,t}),{})}function _(e){e=f(e);var i=[],a={node:"root",children:[]};return p(e,{start:function(t,e,n){var s={name:t};if(0!==e.length&&(s.attrs=g(e)),n){var o=i[0]||a;o.children||(o.children=[]),o.children.push(s)}else i.unshift(s)},end:function(e){var n=i.shift();if(n.name!==e&&t.error("invalid state: mismatch end tag"),0===i.length)a.children.push(n);else{var s=i[0];s.children||(s.children=[]),s.children.push(n)}},chars:function(t){var e={type:"text",text:t};if(0===i.length)a.children.push(e);else{var n=i[0];n.children||(n.children=[]),n.children.push(e)}},comment:function(t){var e={node:"comment",text:t},a=i[0];a.children||(a.children=[]),a.children.push(e)}}),a.children}var m=_;e.default=m}).call(this,i("5a52")["default"])},"3a03":function(t,e,i){var a=i("6398");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("8ff354e8",a,!0,{sourceMap:!1,shadowMode:!1})},4481:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%","max-width":"100%"}},[i("v-uni-rich-text",{staticStyle:{"font-size":"14px",width:"100%","max-width":"100%"},attrs:{nodes:t.nodes}})],1)},s=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))},"53a0":function(t,e,i){"use strict";i.r(e);var a=i("4481"),n=i("654b");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var o,d=i("f0c5"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=r.exports},6398:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.storeLi[data-v-78ed7298]{font-size:%?28?%;color:#020202;margin-left:%?40?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:1px solid #fff}.btn1[data-v-78ed7298]{margin-left:%?11?%;color:#9d9d9d}.btn2[data-v-78ed7298]{margin-left:%?11?%;color:red}.hide[data-v-78ed7298]{display:none!important}.payBtn[data-v-78ed7298]{position:absolute;bottom:0;left:0;width:100%;border-bottom-left-radius:%?20?%;border-bottom-right-radius:%?20?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#fff;background-color:#000;font-size:%?28?%}.maskTitle[data-v-78ed7298]{text-align:center;font-size:%?28?%;position:relative}.guanbiImg[data-v-78ed7298]{width:%?30?%;height:%?30?%;position:absolute;top:%?20?%;right:%?40?%;z-index:999999}.animate[data-v-78ed7298]{width:80%;left:10%;margin:0 auto;position:fixed;height:350px;border-radius:%?20?%;padding:%?20?%;padding-top:%?60?%;background-color:#fff;-webkit-animation:myPay-data-v-78ed7298 .5s 1;animation:myPay-data-v-78ed7298 .5s 1;-webkit-animation-timing-function:ease;animation-timing-function:ease;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.animate1[data-v-78ed7298]{width:80%;left:10%;margin:0 auto;position:fixed;height:350px;border-radius:%?20?%;padding:%?20?%;padding-top:%?60?%;background-color:#fff;-webkit-animation:myPay1-data-v-78ed7298 .5s 1;animation:myPay1-data-v-78ed7298 .5s 1;-webkit-animation-timing-function:ease;animation-timing-function:ease;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes myPay-data-v-78ed7298{from{bottom:%?-1300?%}to{bottom:%?300?%}}@keyframes myPay-data-v-78ed7298{from{bottom:%?-1300?%}to{bottom:%?300?%}}@-webkit-keyframes myPay1-data-v-78ed7298{from{bottom:%?300?%}to{bottom:%?-1300?%}}@keyframes myPay1-data-v-78ed7298{from{bottom:%?300?%}to{bottom:%?-1300?%}}uni-input div uni-input[data-v-78ed7298]{color:#000!important}.deco[data-v-78ed7298]{width:100%;height:100%;color:#9d9d9d;margin-top:%?20?%;border-top:1px solid #eee;padding-top:%?30?%;\r\n\t/* padding-left: 30upx; */display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.cart_f[data-v-78ed7298]{\r\n\t/* min-height: 100vh; */}.address_one[data-v-78ed7298],\r\n.goods[data-v-78ed7298],\r\n.goods_right>div[data-v-78ed7298],\r\n.foot[data-v-78ed7298],\r\n.format[data-v-78ed7298],\r\n.coupon_sue[data-v-78ed7298],\r\n.order_coupon[data-v-78ed7298]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.address_one[data-v-78ed7298]{padding:%?30?%;font-size:%?28?%;color:#020202}.address_one p[data-v-78ed7298]{font-size:%?24?%;color:#9d9d9d;margin-top:%?20?%}.address_two[data-v-78ed7298]{height:%?90?%;text-align:center;line-height:%?90?%;font-size:%?30?%;color:#888}.goods[data-v-78ed7298]:last-child{border:none}.goods[data-v-78ed7298]{padding:%?30?% %?30?% %?30?% 0;border-bottom:1px solid #eee;margin-left:%?30?%}.goods>img[data-v-78ed7298]{width:%?120?%;height:%?120?%;margin-right:%?20?%;vertical-align:sub}.goods_right[data-v-78ed7298]{width:80%}.goods_right>p[data-v-78ed7298]{font-size:%?24?%;color:#020202;margin-bottom:%?28?%}.goods_bottom p[data-v-78ed7298]{font-size:%?26?%;color:#020202}.format>p[data-v-78ed7298]{font-size:%?24?%;color:#333}.format>p[data-v-78ed7298]:first-child{font-size:%?20?%;color:#9d9d9d;margin-right:%?30?%}.foot[data-v-78ed7298]{height:%?98?%;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?30?%;color:#020202;border:1px solid #eee;position:fixed;left:0;bottom:0;z-index:20;background-color:#fff;padding-left:%?30?%}.foot>p[data-v-78ed7298]{width:%?240?%;background-color:#020202;color:#fff;line-height:%?98?%;text-align:center;margin-left:%?30?%}\r\n\r\n/*余额支付密码框*/.payment_pass[data-v-78ed7298],\r\n.copon_div[data-v-78ed7298]{height:100vh;width:100%;background-color:rgba(0,0,0,.5);position:fixed;top:0;left:0;z-index:45;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.payment_c[data-v-78ed7298]{width:%?550?%;height:%?400?%;background-color:#fff;text-align:center;font-size:%?30?%;border-radius:23upxm;position:relative}.payment_tt[data-v-78ed7298]{border-top:1px solid #eee;width:100%;font-size:%?34?%;color:#005edf;height:%?94?%;position:absolute;bottom:0;left:0}.cancel[data-v-78ed7298]{border-right:1px solid #eee}.cancel[data-v-78ed7298],\r\n.confirm[data-v-78ed7298]{width:50%;float:left;height:100%;line-height:%?98?%}.payment_c>p[data-v-78ed7298]{line-height:%?160?%;font-size:%?30?%;color:#333}.pwd-wrap[data-v-78ed7298],\r\n.pwd-wrap li[data-v-78ed7298]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.xian_d[data-v-78ed7298]{width:100%}.pwd-wrap li[data-v-78ed7298]{width:%?80?%;height:%?80?%;border:1px solid #eee;border-right:none;text-align:center;position:relative}.pwd-wrap li[data-v-78ed7298]:last-child{border-right:1px solid #eee}.masd[data-v-78ed7298]{width:%?80?%;height:%?80?%;padding:0;position:absolute;top:0;left:0;border:0;text-align:center;-webkit-text-security:disc;text-security:disc}.payment_ww[data-v-78ed7298]{font-size:%?32?%;color:#020202;margin-top:%?120?%}.payment_boo[data-v-78ed7298]{line-height:%?94?%}.copon_div[data-v-78ed7298]{-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.coupon_sue[data-v-78ed7298],\r\n.order_coupon[data-v-78ed7298]{padding:%?30?%;color:#020202;font-size:%?28?%}.order_coupon span[data-v-78ed7298]{font-size:%?28?%}.coupon_sue[data-v-78ed7298]{border-bottom:1px solid #eee}.coupon_ul[data-v-78ed7298]{height:45%;background-color:#fff;position:relative;padding:0;overflow:hidden;overflow-y:auto;margin-bottom:%?100?%}.copou_close[data-v-78ed7298]{padding:%?30?%;color:#020202;font-size:%?30?%;border-top:1px solid #ddd;position:absolute;bottom:0;left:0;width:100%;text-align:center;z-index:45;background-color:#fff}.order_coupon[data-v-78ed7298]{border-bottom:1px solid #eee}.pay_yue[data-v-78ed7298]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.pay_yue>div[data-v-78ed7298]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.head[data-v-78ed7298],\r\n.order_header[data-v-78ed7298]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.head[data-v-78ed7298]{height:%?88?%;padding:0 %?30?%;border-bottom:1px solid #eee;font-size:%?40?%;color:#242424}.head_img[data-v-78ed7298]{width:%?24?%;height:%?36?%}.head_search[data-v-78ed7298]{width:%?40?%;height:%?40?%;visibility:hidden}.order_header[data-v-78ed7298]{-webkit-justify-content:space-around;justify-content:space-around;width:100%;border-bottom:1px solid #d2d2d2}.header_li[data-v-78ed7298]{width:25%;text-align:center;height:%?84?%;line-height:%?84?%;border-bottom:1px solid #eee;font-size:%?30?%;color:#9d9d9d}.header_border[data-v-78ed7298]{color:#020202;font-weight:700;position:relative}.header_border[data-v-78ed7298]:after{border-bottom:%?5?% solid #020202;position:absolute;bottom:0;width:50%;content:"";left:25%}.last_right>div[data-v-78ed7298]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.position_head[data-v-78ed7298]{position:fixed;left:0;top:0;width:100%;background-color:#fff;z-index:35}.address_one_data[data-v-78ed7298]{width:90%}.address_one_data .address_one_name[data-v-78ed7298]{margin-right:%?30?%;font-weight:700}.both[data-v-78ed7298]{clear:both}.yue_money[data-v-78ed7298]{font-size:%?28?%;font-weight:700}.deco_title[data-v-78ed7298]{color:#020202;font-size:%?28?%;width:%?150?%}.deco_data[data-v-78ed7298]{border:%?2?% #b8b8b8 solid;padding:%?10?% %?10?% %?10?% 0;width:%?200?%;border-radius:%?6?%}.deco_data .ipt[data-v-78ed7298]{text-align:right;font-size:%?28?%;color:#000}.foot_price[data-v-78ed7298]{font-size:%?30?%;font-weight:600;color:#020202}._yueInput1[data-v-78ed7298]{position:absolute;z-index:222;width:100%;height:%?88?%;opacity:0;-webkit-text-security:disc;text-security:disc;margin-left:-100%;padding-right:100%}._yueInput2[data-v-78ed7298]{position:absolute;z-index:222;width:100%;height:%?88?%;opacity:0;-webkit-text-security:disc;text-security:disc}.forgetPW[data-v-78ed7298]{color:#0080ff;font-size:%?28?%;text-align:right;margin-top:%?10?%;margin-right:%?40?%}.bold[data-v-78ed7298]{font-weight:700}.hr[data-v-78ed7298]{width:100%;height:%?10?%;background-color:#f4f4f4}.font_22[data-v-78ed7298]{font-size:%?22?%}.font_30[data-v-78ed7298]{font-size:%?30?%}.color_FF0[data-v-78ed7298]{color:red}.w_100[data-v-78ed7298]{width:100%}.w_400[data-v-78ed7298]{width:%?400?%}.ml_30[data-v-78ed7298]{margin-left:%?30?%}.bottom_height[data-v-78ed7298]{height:%?106?%;width:100%}\r\n\r\n/* 优化 */.yh-address[data-v-78ed7298]{width:90%}.yh-address-name[data-v-78ed7298]{margin-right:%?30?%;font-weight:700}.yh-address-tel[data-v-78ed7298]{font-weight:700}.yh-noun[data-v-78ed7298]{width:100%;height:%?10?%;background-color:#f4f4f4}.yh-hj[data-v-78ed7298]{font-size:%?30?%;font-weight:700}.yh-price2[data-v-78ed7298]{color:red;font-size:%?30?%;font-weight:700}.yh-pay-yue[data-v-78ed7298]{position:relative;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.yh-display[data-v-78ed7298]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.yh-yezf[data-v-78ed7298]{font-size:%?28?%;font-weight:700}.yh-deco-syye[data-v-78ed7298]{color:#020202;font-size:%?28?%;width:%?150?%}.yh-deco-div[data-v-78ed7298]{border:%?2?% #b8b8b8 solid;padding:%?10?% %?10?% %?10?% 0;width:%?200?%;border-radius:%?6?%}.yh-deco-input[data-v-78ed7298]{text-align:right;font-size:%?28?%;color:#000}.yh-order-coupon-span[data-v-78ed7298]{font-size:%?28?%;font-weight:700}.yh-pay-yue[data-v-78ed7298]{position:relative;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.yh-pay-div[data-v-78ed7298]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.yh-foot-fkje[data-v-78ed7298]{font-size:%?30?%;font-weight:600;color:#020202}.yh-msg1[data-v-78ed7298]{position:absolute;z-index:222;width:100%;height:%?88?%;opacity:0;-webkit-text-security:disc;text-security:disc;margin-left:-100%;padding-right:100%}.yh-msg2[data-v-78ed7298]{position:absolute;z-index:222;width:100%;height:%?88?%;opacity:0;-webkit-text-security:disc;text-security:disc}.yh-forgetPW[data-v-78ed7298]{color:#0080ff;font-size:%?28?%;text-align:right;margin-top:%?10?%;margin-right:%?40?%}',""]),t.exports=e},"654b":function(t,e,i){"use strict";i.r(e);var a=i("e4e9"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"891f":function(t,e,i){"use strict";var a=i("3a03"),n=i.n(a);n.a},b352:function(t,e,i){"use strict";i.r(e);var a=i("b8de"),n=i("bcac");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("891f");var o,d=i("f0c5"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"78ed7298",null,!1,a["a"],o);e["default"]=r.exports},b8de:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cart",staticClass:"cart_f"},[i("lktauthorize",{ref:"lktAuthorizeComp",on:{pChangeLoginStatus:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLoginStatus.apply(void 0,arguments)}}}),i("heads",{attrs:{title:t.title}}),t.load?i("div",{staticClass:"load"},[i("div",[i("img",{attrs:{src:t.loadGif}}),i("p",[t._v("加载中")])])]):i("div",{staticClass:"order_detail"},[t.adds_f?i("div",{staticClass:"address_one",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._uni_navigateTo("../../pages/address/receivingAddress?state_manage=1&addre_id="+t.address.id)}}},[i("div",{staticClass:"address_one_data"},[i("span",{staticClass:"address_one_name"},[t._v(t._s(t.address.name))]),i("span",{staticClass:"bold"},[t._v(t._s(t.address.tel))]),i("p",[t._v(t._s(t.address.address_xq))])]),i("img",{staticClass:"arrow",attrs:{src:t.jiantou}})]):t._e(),t.adds_f?t._e():i("div",{staticClass:"address_two",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._uni_navigateTo("../../pages/address/addAddress?state_addre=1&addNum=0")}}},[i("span",[t._v("+")]),i("span",[t._v("点击添加地址")])]),i("div",{staticClass:"hr"}),i("ul",[i("li",{staticClass:"goods"},[i("img",{attrs:{src:t.jp_imgurl}}),i("div",{staticClass:"goods_right"},[i("p",[t._v(t._s(t.jp_name))]),i("div",{staticClass:"goods_bottom"},[i("p",[i("span",{staticClass:"font_22"},[t._v("￥")]),t._v(t._s(t.jp_total)+"元")]),i("div",{staticClass:"format both"},[i("p",[t._v("规格："+t._s(t.pro.size))]),i("p",[t._v("x"+t._s(t.pro.num))])])])])])]),i("li",{staticClass:"order_coupon"},[i("span",[t._v("运费")]),0==t.freightt?i("span",[t._v("包邮")]):i("span",[t._v("￥"+t._s(t.freightt))])]),i("li",{staticClass:"order_coupon"},[i("span"),i("span",{staticClass:"bold font_30"},[t._v("合计："),i("font",{staticClass:"bold font_30 color_FF0"},[t._v("￥"+t._s(t.price2))])],1)]),i("ul",{},[t.price2>0?i("li",{staticClass:"pay"},[i("div",{staticClass:"w_100"},[i("div",{staticClass:"pay_yue"},[i("div",[i("div",[i("p",{staticClass:"w_400"},[i("font",{staticClass:"yue_money"},[t._v("余额支付")]),i("span",{class:t.user_money>0?"btn1":"btn2"},[t._v("(余额￥"+t._s(t.user_money)+")")])],1)])]),t.user_money>0?i("v-uni-switch",{attrs:{id:"isyue",color:"#4CD864"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange.apply(void 0,arguments)}}}):t._e()],1),t.useWallte?i("div",{staticClass:"deco"},[i("div",{staticClass:"deco_title"},[t._v("使用余额")]),i("div",{staticClass:"deco_data"},[i("v-uni-input",{staticClass:"ipt",attrs:{value:t.value,type:"digit",placeholder:"请输入抵扣金额"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t._hide()},blur:function(e){arguments[0]=e=t.$handleEvent(e),t._show()},input:function(e){arguments[0]=e=t.$handleEvent(e),t.replaceInput.apply(void 0,arguments)}}})],1)]):t._e()])]):t._e(),i("li",{staticClass:"hr"}),t.needpay>0?i("div",[i("li",{staticClass:"order_coupon"},[i("span",{staticClass:"yue_money"},[t._v("还需支付")]),i("span",[t._v("￥"+t._s(t.needpay))])]),i("li",{staticClass:"pay",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseWay("wxPay")}}},[i("div",{staticClass:"w_100"},[i("div",{staticClass:"pay_yue"},[i("div",[i("img",{staticClass:"pay_img",attrs:{src:t.pay_w,alt:""}}),t._m(0)]),i("img",{staticClass:"quan_img",attrs:{src:t.wxPayStatue?t.quan_hei:t.quan_hui}})])])])]):t._e()]),i("div",{staticClass:"foot",class:1==t.ishide?"hide":"",attrs:{id:"foot"}},[i("div",[i("p",{staticClass:"foot_price"},[t._v("付款金额：￥"+t._s(t.price2))])]),i("p",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._pay_style()}}},[t._v(t._s(t.price2>0?"立即支付":"立即兑换"))])]),i("div",{staticClass:"bottom_height"}),t.pay_display?i("div",{staticClass:"payment_pass"},[i("div",{staticClass:"payment_c"},[i("p",[t._v("请输入支付密码")]),i("div",{staticClass:"xian_d"},[i("v-uni-input",{staticClass:"_yueInput2",attrs:{type:"number",password:"true",maxlength:t.digits.length},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t._yueInput.apply(void 0,arguments)}},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}}),i("ul",{staticClass:"pwd-wrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.focust.apply(void 0,arguments)}}},t._l(t.digits,(function(e,a){return i("li",{key:a},[t.msgLength>a?i("span",{staticClass:"spanm"},[i("v-uni-input",{staticClass:"masd",attrs:{type:"number",pattern:"\\d*"},model:{value:a,callback:function(t){a=t},expression:"key"}})],1):t._e()])})),0),i("div",{staticClass:"forgetPW",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.forgetPW()}}},[t._v("忘记密码？")])],1),i("div",{staticClass:"payment_tt"},[i("div",{staticClass:"cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._cancel.apply(void 0,arguments)}}},[t._v("取消")]),i("div",{staticClass:"confirm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._confirm.apply(void 0,arguments)}}},[t._v("确认")])])])]):t._e(),t.password_display?i("div",{staticClass:"payment_pass"},[i("div",{staticClass:"payment_c"},[i("div",{staticClass:"payment_ww"},[t._v("无支付密码，前往设置！")]),i("div",{staticClass:"payment_tt payment_boo",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._password_status.apply(void 0,arguments)}}},[t._v("去设置")])])]):t._e()])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ml_30"},[i("p",{staticClass:"w_400"},[t._v("微信支付")])])}];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))},bcac:function(t,e,i){"use strict";i.r(e);var a=i("c51b"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},c51b:function(t,e,i){"use strict";(function(t){var a=i("ee27");i("99af"),i("c975"),i("d81d"),i("a9e3"),i("b6802"),i("d3b7"),i("acd8"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("c964")),s=a(i("f3f3")),o=a(i("8249")),d=i("2f62"),r=(i("a251"),a(i("53a0"))),c={data:function(){return{title:"确认订单信息",access_id:"",returnR:2,load:!0,head:!0,address:"",address_id:"",adds_f:"",bind_id:"",coupon_id:"",firstFlag:!0,pro:"",jp_name:"",jp_imgurl:"",jp_total:"",jp_zong:"",price1:this.jp_total-0+this.freight,price2:"",totla:"",freightt:"",freight:"",name:"",channel:"",erroTime:0,enterless:!0,user_money:"",useWallte:!1,value:"",value2:"",cpId:"",needpay:"",ishide:0,pay_display:!1,digits:["","","","","",""],msg:"",msgLength:0,password_display:!1,guanbiImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/close2x.png",pay_y:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yuezhifu2x.png",pay_z:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/zhifubaozhifu2x.png",pay_w:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/weixinzhifu2x.png",pay_b:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/lALPBb.png",quan_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",quan_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehei2x.png",zfb:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/zhifubaozhifu2x.png",wx:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/weixinzhifu2x.png",yezf:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yuezhifu2x.png",back1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",loadGif:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/5-121204193R7.gif",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",storeImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/store.png",code:"",pay:[{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yuezhifu2x.png",name:"钱包余额"},{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/weixinzhifu2x.png",name:"微信支付"},{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/zhifubaozhifu2x.png",name:"支付宝"}],pay_index:-1,pay_style:"",content:"是否抵扣余额？",showPayWay1:!1,showPayWay:!1,focus:!0,aliPayStatue:!1,wxPayStatue:!1,fastTap:!0,can_pay:!0,oldheight:"",makeOrd:!1,sNo:"",order_list:"",or_id:"",order_id:"",cart_id:"",h5_content:"",grade_rate:1}},onLoad:function(e){var i=this;this.order_list1=uni.getStorageSync("order_list"),this.level=uni.getStorageSync("level");var a=this;a.$nextTick((function(){a.$refs.lktAuthorizeComp.handleAfterAuth(a,"../../pages/login/login?landing_code=1")})),this.returnR=2,this.cpId=e.product,this.$store.state.address_id=this.$store.state.address_id_def,uni.onWindowResize((function(t){""==i.oldheight?(i.oldheight=t.size.windowHeight,i._hide()):Number(i.oldheight)<Number(t.size.windowHeight)?(i.oldheight=t.size.windowHeight,i._show()):Number(i.oldheight)==Number(t.size.windowHeight)?i._show():i._hide()})),this.cpId||(this.cpId=""),e.canshu&&uni.setStorageSync("canshu",e.canshu),this.order_no=e.order_no,this.orde_id=this.$store.state.order_id,this.cart_id=this.$store.state.cart_id,e.cart_id&&(this.cart_id=e.cart_id,this.$store.state.cart_id=this.cart_id);var n=window.localStorage;null!=n["cart_id"]&&""!=n["cart_id"]&&(this.cart_id=n["cart_id"]),this.$store.state.address_id=this.$store.state.address_id_def,this.bind_id=this.$store.state.bindding_num,this.access_id=uni.getStorageSync("access_id")?uni.getStorageSync("access_id"):this.$store.state.access_id,uni.getProvider({service:"payment",success:function(e){t.log("payment success",e),i.providerList=e.provider.map((function(t){switch(t){case"alipay":return{name:"支付宝",id:t,loading:!1};case"wxpay":return{name:"微信",id:t,loading:!1}}}))},fail:function(e){t.log("获取登录通道失败：",e)}}),t.log("option_end")},onShow:function(){this.orde_id=this.$store.state.order_id,this.cart_id=this.$store.state.cart_id;var t=window.localStorage;this.address_id=this.$store.state.address_id,this.bind_id=this.$store.state.bindding_num,this.firstFlag=!0,this.access_id=uni.getStorageSync("access_id")?uni.getStorageSync("access_id"):this.$store.state.access_id;var e=uni.getStorageSync("lkt_address_id_def");t=window.localStorage;this.address_id||(this.address_id=t["address_id"]),this.bind_id||(this.bind_id=t["bindding_num"]);var i=window.location.href;if(i.split("?").length>1){var a=i.split("?")[1],n=a.split("&");for(var s in n)"String"!=typeof n[s]&&"string"!=typeof n[s]||"code"==n[s].substring(0,4)&&(a=n[s].substring(5),this.code=a)}""==this.code&&(t.removeItem("bargain"),t.removeItem("bargain_id"),t.removeItem("order_no"),t.removeItem("product"),this.toUrl()),this._axios(),e?this.adds_f=!0:""==this.$store.state.address_id_def||void 0==this.$store.state.address_id_def?this.adds_f=!1:this.adds_f=!0,this._axios()},methods:(0,s.default)({_yueInput:function(t){var e=this;6==t.detail.value.length&&setTimeout((function(){e._confirm()}),100)},changeLoginStatus:function(){var t=this;t.access_id=uni.getStorageSync("access_id"),t._axios()},_hide:function(){t.log("hide1"),this.ishide=1},_show:function(){this.ishide=0,0==this.value.length&&(this.value=0)},_back:function(){t.log("这是return"),t.log(this.returnR),uni.switchTab({url:"../../pages/tabBar/home"})},replaceInput:function(t){this.value=Math.abs(t.detail.value),this._usyue()},_usyue:function(){var t=parseFloat(this.jp_total*this.grade_rate+this.freight-this.value).toFixed(2);this.needpay=t>0?t:0},payThree:function(){var t=this;if(this.useWallte)t.wxPayStatue?t.pay_wx():(uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),t.firstFlag=!0);else if(t.wxPayStatue||t.aliPayStatue){var e={module:"app",action:"order",app:"payment",access_id:t.access_id,address_id:t.address_id,grade_l:t.level,product:t.order_list1};this.cpId&&(e.product=this.cpId),t.wxPayStatue?(e.pay_type="jsapi_wechat",e.store_type=2):t.aliPayStatue&&(e.pay_type="aliPay"),uni.request({data:e,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){uni.hideLoading();var i=e.data,a=i.status,n=i.data;t.order_list=JSON.stringify(n),0!=a?1==a&&(t.sNo=e.data.data.sNo,t.price1=e.data.data.total,t.order_id=e.data.data.order_id,t.wxPayStatue?t.pay_wx("wx"):t.aliPayStatue&&t.pay_wx("ali")):uni.showToast({title:e.data.err,duration:1500,icon:"none"})},error:function(e){uni.hideLoading(),t.firstFlag=!0,uni.showToast({title:"创建订单失败,请稍后再试!",duration:1500,icon:"none"}),setTimeout((function(){uni.navigateBack({delta:1})}),1500)}})}else uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),t.firstFlag=!0},_showPayWay:function(){var t=this;this.showPayWay1=!0,setTimeout((function(){t.showPayWay=!1,t.showPayWay1=!1}),500)},forgetPW:function(){uni.navigateTo({url:"../../pagesB/setUp/paymentPassword"})},chooseWay:function(t){"wxPay"==t?this.wxPayStatue?this.wxPayStatue=!1:(this.wxPayStatue=!0,this.aliPayStatue=!1):"aliPay"==t&&(this.aliPayStatue?this.aliPayStatue=!1:(this.wxPayStatue=!1,this.aliPayStatue=!0))},switchChange:function(e){if(!(Number(this.user_money)<=0))if(this.useWallte=e.detail.value,this.useWallte)if(this.price2>=Number(this.user_money))this.value=this.user_money,this.needpay=parseFloat(this.price2-Number(this.user_money)).toFixed(2),t.log("支付总价大于用户余额");else{this.value=this.jp_total*this.grade_rate-0+this.freight;var i=this.jp_total*this.grade_rate-0+this.freight;this.price2=i,this.needpay=0,""===this.value&&(this.value=this.value2),i-this.value>0&&(this.needpay=i-this.value)}else this.value2=this.value,this.value="",this.needpay=""},_uni_navigateTo:function(t){uni.navigateTo({url:t})},getOrderInfo:function(t){var e=this,i=this,a={access_id:this.access_id,order_list:i.order_list,title:"",module:"app",action:"pay",type:"app_wechat",type_:"KJ",total:i.price1,bargain_order_no:i.order_no};return a.title=i.jp_name,"wx"==t?(a.type="jsapi_wechat",a.code=this.code):"ali"==t&&(a.type="alipay_mobile"),new Promise((function(i){uni.request({url:uni.getStorageSync("url"),data:a,success:function(a){200==a.statusCode?(i(a),"wx"==t||"ali"==t&&(e.h5_content=a.data)):void 0!=a.data.code&&200!=a.data.code&&uni.showToast({title:a.data.message,duration:1500,icon:"none"})},fail:function(t){i(t)}})}))},weixinPay:function(){var e=this,i=this;this.loading=!0,uni.login({provider:"weixin",success:function(a){var n;n={code:a.code,order_list:i.order_list,title:i.jp_name,type:"mini_wechat",access_id:e.access_id,total:i.price1,module:"app",action:"pay"},uni.request({url:uni.getStorageSync("url"),data:n,success:function(a){if(uni.hideLoading(),200===a.statusCode)if(200==a.statusCode){var n=a.data;uni.requestPayment({provider:"wxpay",timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:"MD5",paySign:n.paySign,success:function(e){uni.showToast({title:"支付成功！",duration:1e3,icon:"none"}),setTimeout((function(){t.log("44444444444444444"),i.$store.state.payRes=i.order_list,uni.redirectTo({url:"../../pages/pay/payResult"}),i.pay_display=!1}),1e3)},fail:function(t){uni.showModal({title:"提示",content:"支付失败,可在订单列表中查看",success:function(t){t.confirm?uni.redirectTo({url:"../../pages/order/myOrder"}):t.cancel&&uni.switchTab({url:"../../pages/tabBar/home"})}})},complete:function(){e.loading=!1}})}else uni.showModal({title:"提示",content:"支付失败,可在订单列表中查看",success:function(t){i.firstFlag=!0,t.confirm?uni.redirectTo({url:"../../pages/order/myOrder"}):t.cancel&&uni.switchTab({url:"../../pages/tabBar/home"})}});else uni.showModal({title:"提示",content:"支付失败,查看订单详情",success:function(t){t.confirm?uni.redirectTo({url:"../../pages/order/myOrder"}):t.cancel&&uni.switchTab({url:"../../pages/tabBar/home"})}})},fail:function(t){e.loading=!1,uni.hideLoading(),uni.showModal({title:"提示",content:"支付失败,查看订单详情",success:function(t){i.firstFlag=!0,t.confirm?uni.redirectTo({url:"../../pages/order/myOrder"}):t.cancel&&uni.switchTab({url:"../../pages/tabBar/home"})}})}})},fail:function(t){e.loading=!1,uni.hideLoading(),uni.showModal({title:"提示",content:"支付失败,查看订单详情",success:function(t){i.firstFlag=!0,t.confirm?uni.redirectTo({url:"../../pages/order/myOrder"}):t.cancel&&uni.switchTab({url:"../../pages/tabBar/home"})}})}})},_payFail:function(){var t=this;uni.showModal({title:"提示",content:"支付失败,查看订单详情",success:function(e){t.firstFlag=!0;var i=uni.getStorageSync("h5_url")+"pages/order/myOrder?status=1";e.cancel&&(i=uni.getStorageSync("h5_url")+"pages/tabBar/home"),location.href=i,e.confirm?uni.redirectTo({url:"../../pages/order/myOrder"}):e.cancel&&uni.switchTab({url:"../../pages/tabBar/home"})}})},pay_wx:function(e){var i=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var n,s,o,d,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,i.getOrderInfo(e);case 4:n=a.sent,"","wx"==e?"wxpay":"ali"==e&&"alipay",s=i,200!==n.statusCode&&s._payFail(),JSON.stringify(n.data),uni.hideLoading(),"ali"==e?(o=uni.getStorageSync("endurl")+"order/"+s.sNo+"_alipay.html",window.location.href=o):"wx"==e&&(d=function(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:r.appid,timeStamp:r.timeStamp,nonceStr:r.nonceStr,package:r.package,signType:r.signType,paySign:r.paySign},(function(e){s.firstFlag=!0,s.code;var i=window.location.href,a=i.split("#")[0];a.concat("#/pages/pay/payResult");if("get_brand_wcpay_request:ok"==e.err_msg){s.$store.state.payRes=s.order_list;s.price1,Number(s.price1),Number(s.value);var n=s.sNo;return t.log("++++++++++++++"),t.log(n),!1}s._payFail()}))},r=n.data,"undefined"!=typeof WeixinJSBridge?d(r):"undefined"==typeof WeixinJSBridge&&(document.addEventListener?document.addEventListener("WeixinJSBridgeReady",d,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",d),document.attachEvent("onWeixinJSBridgeReady",d))),uni.requestPayment({provider:"wxpay",timeStamp:r.timeStamp,nonceStr:r.nonceStr,package:r.package,signType:"MD5",paySign:r.paySign,success:function(e){uni.showToast({title:"支付成功！",duration:1e3,icon:"none"}),setTimeout((function(){s.$store.state.payRes=s.order_list,t.log("1111111111"),uni.redirectTo({url:"../../pages/pay/payResult"}),s.pay_display=!1}),1e3)},fail:function(t){s._payFail()},complete:function(){i.loading=!1,uni.hideLoading()}}));case 12:case"end":return a.stop()}}),a)})))()},focust:function(){this.focus=!0}},(0,d.mapMutations)({order_id:"SET_ORDER_ID",status:"SET_STATUS",h_content:"SET_H_CONTENT"}),{_gotPayType:function(){var e=this;this.useWallte||this.wxPayStatue||this.aliPayStatue?(e.firstFlag=!0,t.log("立即支付11==================================")):(uni.showToast({title:"请选择支付方式！",duration:1e3,icon:"none"}),e.firstFlag=!1)},_pay_style:function(){var e=this;if(this.adds_f)if(0!=this.price2){if(0==e.value&&e.useWallte&&(e.useWallte=!1),!e.can_pay)return!1;if(t.log("click"),e.can_pay=!1,setTimeout((function(){e.can_pay=!0}),1500),e._gotPayType(),e.firstFlag)if(e.firstFlag=!1,e.value||(e.value=0),this.price1=this.jp_total*this.grade_rate-0+this.freight,this.price1=this.price1.toFixed(2),this.adds_f)if(this.useWallte)if(t.log("立即支付5"),0==this.password_status)uni.showModal({title:"提示",content:"请先设置支付密码",showCancel:!0,success:function(t){e.firstFlag=!0,t.confirm&&uni.navigateTo({url:"../../pages/setUp/payment"})}});else{var i=Number(this.jp_total)*Number(this.grade_rate)-0+Number(this.freight);if((0!=Number(this.needpay)||i>this.value)&&!this.wxPayStatue&&!this.aliPayStatue)return uni.showToast({title:"金额不足以支付商品价格!",icon:"none",duration:1500}),!1;t.log("pay_name");n={module:"app",action:"order",app:"payment",access_id:e.access_id,address_id:e.address_id,grade_l:e.level,product:e.order_list1};if(e.wxPayStatue?(n.pay_type="jsapi_wechat",n.store_type=2):e.aliPayStatue&&(n.pay_type="aliPay"),uni.request({data:n,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){if(404!=t.data.code){var i=t.data,a=i.status,n=i.data;1==a?(e.makeOrd=!0,e.sNo=t.data.data.sNo,e.order_list=JSON.stringify(n)):(e.firstFlag=!0,uni.hideLoading(),uni.showToast({title:"您已生成待付款订单，请前去支付",duration:1500,icon:"none"}))}else uni.hideLoading()}}),this.price1>0){var a=Number(this.jp_total)*Number(this.grade_rate)-0+Number(this.freight);if(0!=Number(this.needpay)||a>this.value){if(!this.wxPayStatue&&!this.aliPayStatue)return t.log("立即支付13==========================="),e.firstFlag=!0,uni.showToast({title:"金额不足以支付商品价格!",icon:"none",duration:1500}),!1;e.pay_display=!0,t.log("立即支付12==========================="),t.log("立即支付7=========================================")}else t.log("立即支付8================================================="),e.pay_display=!0}else e.pay_display=!0,t.log("立即支付10==================================================")}else uni.showLoading({title:"正在请求支付...",mask:!0}),this.payThree();else uni.showToast({title:"请完善收货地址！",duration:1e3,icon:"none"});else t.log("立即支付")}else{var n={module:"app",action:"order",app:"payment",access_id:e.access_id,address_id:e.address_id,grade_l:e.level,product:e.order_list1};uni.request({data:n,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){200==t.statusCode&&uni.redirectTo({url:"../../pages/pay/payResult?payment_money="+e.price2+"&sNo="+t.data.data.sNo})}})}else uni.showToast({icon:"none",title:"请完善收货地址"})},toUrl:function(){var e=this,i=this,a=window.localStorage;a["bindding_num"]=i.bind_id,a["address_id"]=i.address_id;var n=window.location.href,s={type:"jsapi_wechat",access_id:this.access_id,app:"get_config",module:"app",action:"commcenter",url:n};uni.request({data:s,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){if(200==t.data.code){var i=t.data.data.config.appid;e.myappid=i;var a=t.data.data.url,n="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+i+"&redirect_uri="+a+"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect";window.location.href=n}},error:function(e){t.log(e)}})},_confirm:function(e){t.log("确认"),t.log(this.fastTap);var i=this;if(this.fastTap)if(t.log("next"),t.log(this.msg.length),t.log(i.enterless),this.fastTap=!1,i.enterless)if(uni.showLoading({title:"支付中...",mask:!0}),6==this.msg.length){var a={module:"app",action:"user",app:"payment_password",access_id:this.access_id,password:this.msg,endTime:""};uni.request({data:a,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){var e=t.data,a=e.code,n=(e.message,e.enterless);200==a?(i.pay_display=!1,i.fastTap=!0,i._payAxios()):n?(uni.hideLoading(),i.msg="",uni.showToast({title:"您输入密码错误,请重新输入",duration:1e3,icon:"none"}),i.enterless=n,i.fastTap=!0):n||(uni.hideLoading(),uni.showToast({title:"你输入的错误次数已达当日上限，请使用其它支付方式进行付款",duration:1e3,icon:"none"}),i.pay_display=!1,i.enterless=!1,i.fastTap=!0)},error:function(t){uni.hideLoading(),uni.showToast({title:"网络错误，请稍后再试",duration:1e3,icon:"none"}),i.pay_display=!1,i.fastTap=!0}})}else uni.hideLoading(),i.fastTap=!0,uni.showToast({title:"请输入完整密码！",duration:1e3,icon:"none"});else i.fastTap=!0,uni.showToast({title:"你输入的错误次数已达当日上限，请使用其它支付方式进行付款",duration:1e3,icon:"none"}),i.pay_display=!1;else t.log("exit")},_cancel:function(){var t=this;t.pay_display=!1,t.msg="",t.firstFlag=!0,uni.showModal({title:"提示",content:"支付失败,查看订单详情",success:function(t){t.confirm?uni.redirectTo({url:"../../pages/order/myOrder"}):t.cancel&&uni.switchTab({url:"../../pages/tabBar/home"})}})},_payAxios:function(e){var i=this;if(this.fastTap){this.fastTap=!1;var a=this,n={module:"app",action:"pay",app:"wallet_pay",m:"wallet_pay",type:"wallet_pay",access_id:this.access_id,address_id:this.address_id?this.address_id:this.addre_id,order_list:a.order_list};n.payment_money=this.value,uni.request({data:n,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){i.fastTap=!0;var n=e.data,s=n.code;n.message;if(200==s)if(Number(a.price1)>0)a.wxPayStatue?a.pay_wx("wx"):a.aliPayStatue&&a.pay_wx("ali");else{uni.hideLoading();a.order_id?a.order_id:a.or_id;uni.showToast({title:"支付成功！",duration:1e3,icon:"none"});var o=a.price1,d=(o=Number(a.price1)+Number(a.value),a.sNo);setTimeout((function(){t.log("33333333333333"),a.$store.state.payRes=a.order_list,uni.redirectTo({url:"../../pages/pay/payResult?payment_money="+o+"&sNo="+d}),a.pay_display=!1}),1e3)}else 112==s?(uni.hideLoading(),a.pay_display=!1,a.msg="",a.firstFlag=!0,uni.showModal({title:"提示",content:"支付失败,订单已生成，可以在订单列表中查看",showCancel:!1,success:function(t){t.confirm&&uni.redirectTo({url:"../../pages/order/myOrder"})}})):(uni.hideLoading(),a.pay_display=!1,a.msg="",uni.showModal({title:"提示",content:"网络繁忙，支付失败  订单已生成，可以在订单列表中查看",showCancel:!1,success:function(t){a.firstFlag=!0,t.confirm&&uni.switchTab({url:"../../pages/tabBar/home"})}}))},error:function(t){a.fastTap=!0}})}},_password_status:function(){uni.navigateTo({url:"../../pagesB/setUp/payment"}),this.password_display=!1},_axios:function(){var e=this,i={module:"app",action:"order",auction_id:e.bind_id,grade_l:this.level,access_id:this.access_id,address_id:this.address_id,app:"Settlement",product:this.order_list1};uni.request({data:i,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(i){e.load=!1;var a=i.data,n=(a.addemt,a.address),s=(a.coupon_id,a.freight),o=(a.name,a.password_status),d=(a.products,a.products_total,a.total,a.user_money),r=(a.enterless,a.is_distribution,a.discount,a.grade_rate);if(e.address=n,e.freightt=parseFloat(s).toFixed(2),e.freight=s,i.data.products[0]&&i.data.products[0].list[0]){e.jp_imgurl=i.data.products[0].list[0].img,e.jp_name=i.data.products[0].list[0].product_title;var c={};c.size=i.data.products[0].list[0].size,c.num=i.data.products[0].list[0].num,e.pro=c}e.jp_total=i.data.products_total,e.price1=e.totla-0+e.freight,e.grade_rate=r,e.user_money=d,e.addre_id=n.id,e.$store.state.address_id_def=n.id,e.password_status=o,e.user_money>e.price1?(e.pay_index=0,e.pay_style=1):(e.pay_index=1,e.pay_style=2),e.address&&(0!=e.address.length?e.adds_f=!0:e.adds_f=!1),t.log("这是初始加载"),t.log(e.price2)},error:function(e){t.log(e)}})},changeValue:function(t,e){var i=this;this.$nextTick((function(){i.price1=i.jp_total*i.grade_rate-0+i.freight,i.price2=i.price1.toFixed(2);var a=i.jp_total*i.grade_rate-0+i.freight;if(Number(this.value)>=a?(a<=this.user_money?a>0&&(i.value=a):i.value=i.user_money,Number(this.value)>a&&a>0&&uni.showToast({title:"已超过最大金额",icon:"none",duration:1500})):Number(this.value)<a&&Number(this.value)>this.user_money&&(i.value=i.user_money,uni.showToast({title:"已超过最大金额",icon:"none",duration:1500})),i.jp_total,i.grade_rate,i.freight,0==Math.abs(t-e)){var n=String(t).indexOf(".")+1,s=String(t).length-n;s>2&&0!=n&&(i.value=Number(t).toFixed(2))}else Math.abs(t-e)<.009999999999&&(i.value=Number(i.value).toFixed(2))}))}},(0,d.mapMutations)({order_id:"SET_ORDER_ID",address_id:"SET_ADDRESS_ID",bindding_num:"SET_BINDDING_NUM",bind_status:"SET_BIND_STATUS",bind_promise:"SET_BIND_PPOMISE",head_id:"SET_HEAD_ID"})),components:{heads:o.default,wxParse:r.default},watch:{address_id:function(){t.log("地址更换"),this._axios()},msg:function(t){this.msgLength=t.length},page:{handler:function(t,e){0==e&&1==t&&(this.timer=setTimeout((function(){}),500))},deep:!0},freight:function(){var e=this;t.log("freight---------------------------------"),e.price1=e.jp_total*e.grade_rate-0+e.freight,e.price2=e.price1.toFixed(2),e.useWallte&&parseFloat(e.user_money)>parseFloat(e.price2)&&(e.value=e.price2);var i=e.jp_total*e.grade_rate-0+e.freight;i<0&&(uni.showToast({title:"异常交易",icon:"none",duration:1500}),uni.navigateBack({delta:1})),e.needpay=e.price2-0-e.value},coupon_name:function(t,e){this.changeValue(t,e)},value:function(e,i){t.log("改变了value"),this.changeValue(e,i)},price1:function(e,i){var a=this;this.$nextTick((function(){t.log("me.price0"),t.log(a.price1),t.log("value"),t.log(a.value),a.price1=a.jp_total*a.grade_rate-0+a.freight-a.value,a.price1=Number(a.price1).toFixed(2),t.log("me.price1"),t.log(a.price1),t.log("这是price2"),t.log(a.price2),a.needpay=a.price1}))}}};e.default=c}).call(this,i("5a52")["default"])},e4e9:function(t,e,i){"use strict";var a=i("ee27");i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("28ec")),s={name:"wxParse",props:{content:{type:String,default:""}},computed:{nodes:function(){var t=this.content.replace(/src/g,"style='width:100%!important;height: auto!important;' src").replace(/table/g,'table style="width:100%!important;"');return(0,n.default)(t)}},methods:{}};e.default=s}}]);