(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-retrievepassword"],{"0255":function(n,e,t){"use strict";var o,i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("heads",{attrs:{title:n.title}}),n.pass?t("div",{staticStyle:{position:"relative"}},[t("div",{staticClass:"login"},[t("div",{staticClass:"login_inpu loginsss"},[t("v-uni-input",{attrs:{"placeholder-style":"color:#b8b8b8",type:"text",placeholder:"请输入账号",disabled:n.phoneS},on:{focus:function(e){arguments[0]=e=n.$handleEvent(e),n._phone_t(1)},blur:function(e){arguments[0]=e=n.$handleEvent(e),n._telephone(n.phone,1)},input:function(e){arguments[0]=e=n.$handleEvent(e),n._changeStep.apply(void 0,arguments)}},model:{value:n.zhanghao,callback:function(e){n.zhanghao=e},expression:"zhanghao"}}),t("img",{directives:[{name:"show",rawName:"v-show",value:n.zhanghao.length&&n.phone_t,expression:"zhanghao.length&&phone_t"}],attrs:{src:n.del},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._empty(1)}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:n.code_dis,expression:"code_dis"}],staticClass:"login_inpu loginsss"},[t("v-uni-input",{attrs:{type:"number","placeholder-style":"color:#b8b8b8",placeholder:"验证码"},on:{input:function(e){arguments[0]=e=n.$handleEvent(e),n._changeStep1.apply(void 0,arguments)}},model:{value:n.phone_code,callback:function(e){n.phone_code=e},expression:"phone_code"}}),t("div",{staticClass:"login_p",class:"获取验证码"===n.time_code?"":"b",domProps:{textContent:n._s(n.time_code)},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._code()}}})],1)]),n.next?t("div",{staticClass:"button a1",class:{active:n.changeStep},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._next_one.apply(void 0,arguments)}}},[n._v("下一步")]):n._e(),n.next?n._e():t("div",{staticClass:"button a2",class:{active:n.changeStep},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._next_two.apply(void 0,arguments)}}},[n._v("下一步")])]):n._e(),n.pass?n._e():t("div",[t("div",{staticClass:"login",staticStyle:{position:"relative"}},[t("div",{staticClass:"login_inpu loginsss"},[n.pwFlag?t("v-uni-input",{attrs:{type:"text",placeholder:"请输入6-15位数字或字母密码!","placeholder-style":"color:#b8b8b8"},on:{focus:function(e){arguments[0]=e=n.$handleEvent(e),n._phone_t(2)},blur:function(e){arguments[0]=e=n.$handleEvent(e),n._w_password(1)},input:function(e){arguments[0]=e=n.$handleEvent(e),n._changeStep2.apply(void 0,arguments)}},model:{value:n.new_password,callback:function(e){n.new_password=e},expression:"new_password"}}):t("v-uni-input",{attrs:{type:"password",placeholder:"请输入6-15位数字或字母密码!","placeholder-style":"color:#b8b8b8"},on:{focus:function(e){arguments[0]=e=n.$handleEvent(e),n._phone_t(2)},blur:function(e){arguments[0]=e=n.$handleEvent(e),n._w_password(1)},input:function(e){arguments[0]=e=n.$handleEvent(e),n._changeStep2.apply(void 0,arguments)}},model:{value:n.new_password,callback:function(e){n.new_password=e},expression:"new_password"}}),n.pwFlag?t("img",{attrs:{src:n.pwHide},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._seepw(1)}}}):t("img",{attrs:{src:n.pwShow},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._seepw(1)}}})],1),t("div",{staticClass:"login_inpu loginsss"},[n.pwFlag1?t("v-uni-input",{attrs:{type:"text",placeholder:"确认新密码","placeholder-style":"color:#b8b8b8"},on:{focus:function(e){arguments[0]=e=n.$handleEvent(e),n._phone_t(3)},blur:function(e){arguments[0]=e=n.$handleEvent(e),n._w_password(2)},input:function(e){arguments[0]=e=n.$handleEvent(e),n._changeStep2.apply(void 0,arguments)}},model:{value:n.old_password,callback:function(e){n.old_password=e},expression:"old_password"}}):t("v-uni-input",{attrs:{type:"password",placeholder:"确认新密码","placeholder-style":"color:#b8b8b8"},on:{focus:function(e){arguments[0]=e=n.$handleEvent(e),n._phone_t(3)},blur:function(e){arguments[0]=e=n.$handleEvent(e),n._w_password(2)},input:function(e){arguments[0]=e=n.$handleEvent(e),n._changeStep2.apply(void 0,arguments)}},model:{value:n.old_password,callback:function(e){n.old_password=e},expression:"old_password"}}),n.pwFlag1?t("img",{attrs:{src:n.pwHide},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._seepw(2)}}}):t("img",{attrs:{src:n.pwShow},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._seepw(2)}}})],1),t("div",{staticClass:"button buttons",class:{active:n.changeStep},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n._next_three.apply(void 0,arguments)}}},[n._v("保存")])])])],1)},a=[];t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return o}))},"0e19":function(n,e,t){var o=t("baff");"string"===typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var i=t("4f06").default;i("75568a68",o,!0,{sourceMap:!1,shadowMode:!1})},"2ab4":function(n,e,t){"use strict";t.r(e);var o=t("527b"),i=t.n(o);for(var a in o)"default"!==a&&function(n){t.d(e,n,(function(){return o[n]}))}(a);e["default"]=i.a},"527b":function(n,e,t){"use strict";var o=t("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t("f209");var i=o(t("8249")),a={data:function(){return{phoneS:!1,fastTap:!0,del:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/delete2x.png",pwShow:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/pwShow.png",pwHide:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/pwHide.png",title:"找回密码",phone:"",phone_next:"",code_dis:!1,phone_code:"",old_phone:"",count:"",timer:null,time_code:"获取验证码",next:!0,pass:!0,pwFlag:!1,pwFlag1:!1,old_password:"",new_password:"",phone_t:"",new_password_f:"",old_password_f:"",changeStep:!1,zhanghao:"",codeBtnAllowClick:!1,isInput:!1}},onShow:function(){this.codeBtnAllowClick=!0},methods:{_seepw:function(n){1!=n?this.pwFlag1=!this.pwFlag1:this.pwFlag=!this.pwFlag},_changeStep:function(n){""!==n.detail.value?(this.isInput=!0,this.changeStep=!0):this.changeStep=!1,this.zhanghao=n.detail.value},_changeStep1:function(n){6===n.detail.value.length?(this.isInput=!1,this.changeStep=!0):this.changeStep=!1},_changeStep2:function(n){n.detail.value==this.new_password||n.detail.value==this.old_password?(this.isInput=!0,this.changeStep=!0):this.changeStep=!1},_phone_t:function(n){1==n?this.phone_t=!0:2==n?this.new_password_f=!0:3==n&&(this.old_password_f=!0)},_w_password:function(n){1==n?this.new_password_f=!0:2==n&&(this.old_password_f=!0)},_telephone:function(n,e){1==e&&(this.phone_t=!0)},_next_one:function(){var n=this;if(this.isInput){var e=this,t={module:"app",action:"login",app:"forget_zhanghao",zhanghao:this.zhanghao};uni.request({data:t,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(t);var o=t.data,i=o.message,a=o.code,s=o.mobile;200==a?(e.next=!1,e.code_dis=!0,n.phoneS=!0,n.phone_t=!1,n.zhanghao=s,n.changeStep=!1):uni.showToast({title:i,duration:1e3,icon:"none"})},error:function(n){console.log(n)}})}},_next_two:function(){if(!this.isInput){console.log(this.zhanghao);var n=this;this.fastTap&&(this.fastTap=!1,!this.phone_code&&this.code_dis?(uni.showToast({title:"验证码不能为空！",duration:1500,icon:"none"}),setTimeout((function(){n.fastTap=!0}),1500)):6!=this.phone_code.length?(uni.showToast({title:"验证码输入错误！",duration:1500,icon:"none"}),setTimeout((function(){n.fastTap=!0}),1500)):6==this.phone_code.length&&this.phoneS&&uni.request({data:{module:"app",action:"login",app:"forget_code",phone:n.zhanghao,keyCode:n.phone_code},url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){var t=e.data,o=t.code,i=t.message;console.log(e,o),200==o?(n.title="重置密码",n.changeStep=!1,n.pass=!1):uni.showToast({title:i,duration:1500,icon:"none"}),setTimeout((function(){n.fastTap=!0}),1500)},error:function(){n.fastTap=!0}}))}},_empty:function(n){1==n?this.zhanghao="":2==n?this.new_password="":3==n&&(this.old_password="")},_newpassword:function(){var n=/^[a-z0-9]{6,15}$/i;if(""!=this.new_password){if(this.rez=n.test(this.new_password),1==this.rez)return 1;uni.showToast({title:"请输入6-15位数字或字母账号！",duration:2e3,icon:"none"})}},_next_three:function(){if(this.isInput){var n=this._newpassword();console.log(n);if(1==n)if(this.old_password==this.new_password&&""!=this.new_password&&6==this.phone_code.length){var e={module:"app",action:"login",app:"forgotpassword",phone:this.zhanghao,password:this.new_password,keyCode:this.phone_code};uni.request({data:e,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(n){console.log(n);var e=n.data,t=e.message,o=e.code;200==o?(uni.showToast({title:t,icon:"none",duration:1e3}),setTimeout((function(){uni.redirectTo({url:"login?toHome=true"})}),1e3)):uni.showToast({title:t,icon:"none"})},error:function(n){console.log(n)}})}else uni.showToast({title:"两次密码输入不一致，请重新输入！",duration:1e3,icon:"none"});else uni.showToast({title:"密码格式错误！",duration:1e3,icon:"none"})}},_code:function(){var n=this;if(n.codeBtnAllowClick){n.codeBtnAllowClick=!1;var e={module:"app",action:"user",app:"secret_key",phone:this.zhanghao};console.log(e),uni.request({data:e,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){var t=e.data,o=t.code,i=t.message;if(220==o)uni.showToast({title:i,duration:1e3,icon:"none"});else if(200==o){n.phoneS=!0;var a=60;n.timer||(n.count=a,n.timer=setInterval((function(){n.count>0&&n.count<=a?(n.count--,n.time_code="".concat(n.count,"s后可重获")):(clearInterval(n.timer),n.time_code="获取验证码",n.timer=null,n.count="",n.codeBtnAllowClick=!0)}),1e3))}else uni.showToast({title:"获取验证码失败，请稍后再试。",duration:1e3,icon:"none"})},error:function(n){console.log(n)}})}else console.log("正在获取验证码..")}},components:{heads:i.default}};e.default=a},9044:function(n,e,t){"use strict";var o=t("0e19"),i=t.n(o);i.a},"92f6":function(n,e,t){"use strict";t.r(e);var o=t("0255"),i=t("2ab4");for(var a in i)"default"!==a&&function(n){t.d(e,n,(function(){return i[n]}))}(a);t("9044");var s,l=t("f0c5"),c=Object(l["a"])(i["default"],o["b"],o["c"],!1,null,"529a8325",null,!1,o["a"],s);e["default"]=c.exports},baff:function(n,e,t){var o=t("24fb");e=o(!1),e.push([n.i,".login uni-input[data-v-529a8325]{border-bottom:1px solid #eee;margin:0;width:100%}.login_p[data-v-529a8325]{width:%?190?%;height:%?80?%;position:absolute;bottom:%?20?%;right:%?-20?%;text-align:center;line-height:%?80?%;z-index:99;color:#020202}.login[data-v-529a8325]{padding-bottom:%?4?%}.button[data-v-529a8325]{border-radius:%?8?%;background-color:#9a9a9a;width:80%;margin:%?72?% %?76?%}.active[data-v-529a8325]{background-color:#020202}.login_inpu img[data-v-529a8325]{padding:%?20?% %?0?%;right:%?0?%;bottom:%?20?%}.loginsss[data-v-529a8325]{width:90%;margin:0 auto;border:none;border-radius:0;font-size:%?30?%;margin-bottom:%?4?%}.b[data-v-529a8325]{color:#666}.buttons[data-v-529a8325]{width:90%;margin:%?72?% %?32?%}",""]),n.exports=e},f209:function(n,e,t){"use strict";function o(n,e){var t=/^\w{6,20}$/g,o=t.test(n);1==o?uni.showToast({title:"格式正确！",duration:1e3,icon:"none"}):""==n?(e.style.display="block",e.innerHTML="用户名不能为空",uni.showToast({title:"用户名不能为空",duration:1e3,icon:"none"})):(e.style.display="block",n="")}function i(n,e,t){var o=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,i=o.test(n);1==i||(""==n?uni.showToast({title:"密码不能为空！",duration:1e3,icon:"none"}):uni.showToast({title:"请输入6-16位数密码（数字和字母组合）！",duration:1e3,icon:"none"}))}function a(n,e){if(n==e&&""!=e)return 1;""==e?uni.showToast({title:"请输入确认密码！",duration:1e3,icon:"none"}):uni.showToast({title:"两次输入不一致！",duration:1e3,icon:"none"})}function s(n){var e=/^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/,t=e.test(n);return 1==t&&11==n.length?1:""==n?2:(console.log(111111),uni.showToast({title:"请输入正确的手机号！",duration:1e3,icon:"none"}),3)}function l(n,e){var t=60;n||(e=t,n=setInterval((function(){e>0&&e<=t?e--:(clearInterval(n),n=null)}),1e3))}function c(n){n="",console.log(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.onblur=o,e.pass=i,e.confirmpass=a,e.telephone=s,e.time=l,e.empty=c}}]);